<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - MJ Cr√©ations</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #2563eb;
            --primary-dark: #1e40af;
            --secondary: #f97316;
            --success: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --dark: #111827;
            --gray: #6b7280;
            --gray-light: #f3f4f6;
            --white: #ffffff;
            --sidebar-width: 280px;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--gray-light);
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: var(--sidebar-width);
            background: var(--dark);
            color: white;
            position: fixed;
            height: 100%;
            overflow-y: auto;
            transition: transform 0.3s;
            z-index: 1000;
        }

        .sidebar-header {
            padding: 25px;
            background: rgba(0,0,0,0.2);
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .admin-info {
            margin-top: 15px;
            padding: 10px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
        }

        .sidebar-menu {
            padding: 20px 0;
        }

        .menu-section {
            margin-bottom: 30px;
        }

        .menu-title {
            padding: 0 25px;
            margin-bottom: 10px;
            font-size: 0.8rem;
            text-transform: uppercase;
            color: var(--gray);
            font-weight: 600;
        }

        .menu-item {
            display: flex;
            align-items: center;
            padding: 12px 25px;
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            transition: all 0.3s;
            cursor: pointer;
            gap: 12px;
        }

        .menu-item:hover,
        .menu-item.active {
            background: rgba(37, 99, 235, 0.2);
            color: white;
            border-left: 3px solid var(--primary);
        }

        .menu-icon {
            font-size: 1.2rem;
        }

        .menu-badge {
            margin-left: auto;
            background: var(--danger);
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        /* Main Content */
        .main-content {
            margin-left: var(--sidebar-width);
            flex: 1;
            padding: 30px;
            min-height: 100vh;
        }

        .content-header {
            background: white;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .page-title {
            font-size: 2rem;
            color: var(--dark);
            margin-bottom: 10px;
        }

        .breadcrumb {
            display: flex;
            gap: 10px;
            color: var(--gray);
        }

        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--primary);
        }

        .stat-card.success::before {
            background: var(--success);
        }

        .stat-card.warning::before {
            background: var(--warning);
        }

        .stat-card.danger::before {
            background: var(--danger);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 5px;
        }

        .stat-label {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .stat-change {
            position: absolute;
            top: 25px;
            right: 25px;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .stat-change.positive {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }

        .stat-change.negative {
            background: rgba(239, 68, 68, 0.1);
            color: var(--danger);
        }

        /* Services Manager */
        .section-card {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .section-title {
            font-size: 1.5rem;
            color: var(--dark);
            font-weight: 600;
        }

        .btn {
            padding: 10px 20px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-size: 0.95rem;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .btn-success {
            background: var(--success);
            color: white;
        }

        .btn-danger {
            background: var(--danger);
            color: white;
        }

        .btn-outline {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        /* Table */
        .data-table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table th {
            background: var(--gray-light);
            padding: 12px;
            text-align: left;
            font-weight: 600;
            color: var(--gray);
            border-bottom: 2px solid #e5e7eb;
        }

        .data-table td {
            padding: 12px;
            border-bottom: 1px solid #f3f4f6;
        }

        .data-table tr:hover {
            background: #fafafa;
        }

        .table-actions {
            display: flex;
            gap: 8px;
        }

        .action-btn {
            padding: 5px 10px;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s;
        }

        .action-btn.edit {
            background: rgba(37, 99, 235, 0.1);
            color: var(--primary);
        }

        .action-btn.delete {
            background: rgba(239, 68, 68, 0.1);
            color: var(--danger);
        }

        /* Forms */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-label {
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }

        .form-input,
        .form-select,
        .form-textarea {
            padding: 10px 15px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .form-input:focus,
        .form-select:focus,
        .form-textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        /* Quick Actions */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .quick-action-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .quick-action-card:hover {
            border-color: var(--primary);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        .quick-action-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        /* Charts Container */
        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .chart-container {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            padding: 30px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .modal-title {
            font-size: 1.5rem;
            color: var(--dark);
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray);
        }

        /* Calendar */
        .calendar-container {
            background: white;
            padding: 25px;
            border-radius: 12px;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            margin-top: 20px;
        }

        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            cursor: pointer;
            position: relative;
        }

        .calendar-day:hover {
            background: var(--gray-light);
        }

        .calendar-day.has-events {
            background: rgba(37, 99, 235, 0.1);
            font-weight: 600;
        }

        .event-count {
            position: absolute;
            top: 5px;
            right: 5px;
            background: var(--primary);
            color: white;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 20px 25px;
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            gap: 15px;
            z-index: 3000;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .notification.success {
            border-left: 4px solid var(--success);
        }

        .notification.error {
            border-left: 4px solid var(--danger);
        }

        /* Price Editor */
        .price-editor {
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }

        .price-input {
            width: 80px;
            padding: 5px;
            border: 1px solid #e5e7eb;
            border-radius: 4px;
            text-align: right;
        }

        /* Status Badge */
        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            display: inline-block;
        }

        .status-badge.active {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }

        .status-badge.pending {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning);
        }

        .status-badge.inactive {
            background: rgba(107, 114, 128, 0.1);
            color: var(--gray);
        }

        /* Search Bar */
        .search-bar {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .search-input {
            flex: 1;
            padding: 10px 15px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 1rem;
        }

        /* Tabs */
        .tabs {
            display: flex;
            gap: 10px;
            border-bottom: 2px solid #e5e7eb;
            margin-bottom: 25px;
        }

        .tab {
            padding: 12px 20px;
            background: none;
            border: none;
            color: var(--gray);
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
            margin-bottom: -2px;
        }

        .tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Mobile Responsive */
        .mobile-toggle {
            display: none;
            position: fixed;
            top: 20px;
            left: 20px;
            background: var(--primary);
            color: white;
            border: none;
            padding: 10px;
            border-radius: 8px;
            cursor: pointer;
            z-index: 1001;
        }

        @media (max-width: 768px) {
            .mobile-toggle {
                display: block;
            }
            
            .sidebar {
                transform: translateX(-100%);
            }
            
            .sidebar.active {
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 0;
                padding: 15px;
            }
            
            .stats-grid,
            .form-grid,
            .charts-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Loading */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f4f6;
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>

<!-- Firebase SDK (compat) -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-storage-compat.js"></script>
<!-- Votre config (cr√©ez /assets/js/firebase-config.js avec vos cl√©s) -->
<script src="/assets/js/firebase-config.js"></script>


<!-- MJC ADMIN PATCH: SDKs & Config Hooks -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
<script src="/assets/js/firebase-config.js"></script>
<script>
  (function(){
    try {
      if (!window.firebase || !window.firebase.initializeApp) return;
      if (!window.MJ_FIREBASE_CONFIG && !window.firebase.apps.length) { console.warn('MJ_FIREBASE_CONFIG missing'); return; }
      if (!window.firebase.apps.length) firebase.initializeApp(window.MJ_FIREBASE_CONFIG || {});
      window.MJ_db = firebase.firestore();
      window.MJ_db.enablePersistence().catch(function(e){ console.warn('Persistence error', e); });
      window.MJ_auth = firebase.auth();
      console.log('[MJC] Admin Firebase ready.');
    } catch(e){ console.error(e); }
  })();
</script>

</head>
<body>
    <!-- Mobile Toggle -->
    <button class="mobile-toggle" onclick="toggleSidebar()">‚ò∞</button>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo">
                üîß MJ Cr√©ations
            </div>
            <div class="admin-info">
                <div style="font-weight: 600;">Admin Principal</div>
                <div style="font-size: 0.85rem; opacity: 0.8;">admin@mjcreations.fr</div>
            </div>
        </div>
        
        <nav class="sidebar-menu">
            <div class="menu-section">
                <div class="menu-title">Tableau de Bord</div>
                <a href="#dashboard" class="menu-item active" onclick="showSection('dashboard')">
                    <span class="menu-icon">üìä</span>
                    <span>Vue d'ensemble</span>
                </a>
                <a href="#stats" class="menu-item" onclick="showSection('stats')">
                    <span class="menu-icon">üìà</span>
                    <span>Statistiques</span>
                    <span class="menu-badge">Live</span>
                </a>
            </div>
            
            <div class="menu-section">
                <div class="menu-title">Gestion Services</div>
                <a href="#services" class="menu-item" onclick="showSection('services')">
                    <span class="menu-icon">üõ†Ô∏è</span>
                    <span>Catalogue Services</span>
                </a>
                <a href="#prices" class="menu-item" onclick="showSection('prices')">
                    <span class="menu-icon">üí∞</span>
                    <span>Gestion Tarifs</span>
                </a>
                <a href="#zones" class="menu-item" onclick="showSection('zones')">
                    <span class="menu-icon">üó∫Ô∏è</span>
                    <span>Zones d'intervention</span>
                </a>
            </div>
            
            <div class="menu-section">
                <div class="menu-title">Gestion Clients</div>
                <a href="#appointments" class="menu-item" onclick="showSection('appointments')">
                    <span class="menu-icon">üìÖ</span>
                    <span>Rendez-vous</span>
                    <span class="menu-badge">3</span>
                </a>
                <a href="#quotes" class="menu-item" onclick="showSection('quotes')">
                    <span class="menu-icon">üìù</span>
                    <span>Devis</span>
                </a>
                <a href="#clients" class="menu-item" onclick="showSection('clients')">
                    <span class="menu-icon">üë•</span>
                    <span>Base Clients</span>
                </a>
                <a href="#projects" class="menu-item" onclick="showSection('projects')">
                    <span class="menu-icon">üèóÔ∏è</span>
                    <span>Chantiers en cours</span>
                </a>
            </div>
            
            <div class="menu-section">
                <div class="menu-title">Marketing</div>
                <a href="#promotions" class="menu-item" onclick="showSection('promotions')">
                    <span class="menu-icon">üéØ</span>
                    <span>Promotions</span>
                </a>
                <a href="#reviews" class="menu-item" onclick="showSection('reviews')">
                    <span class="menu-icon">‚≠ê</span>
                    <span>Avis clients</span>
                </a>
                <a href="#blog" class="menu-item" onclick="showSection('blog')">
                    <span class="menu-icon">üì∞</span>
                    <span>Blog/Actualit√©s</span>
                </a>
            </div>
            
            <div class="menu-section">
                <div class="menu-title">Configuration</div>
                <a href="#settings" class="menu-item" onclick="showSection('settings')">
                    <span class="menu-icon">‚öôÔ∏è</span>
                    <span>Param√®tres</span>
                </a>
                <a href="#team" class="menu-item" onclick="showSection('team')">
                    <span class="menu-icon">üë∑</span>
                    <span>√âquipe/Artisans</span>
                </a>
                <a href="#backup" class="menu-item" onclick="showSection('backup')">
                    <span class="menu-icon">üíæ</span>
                    <span>Sauvegardes</span>
                </a>
            </div>
        
            <div class="menu-section">
                <div class="menu-title">Contenus</div>
                <a href="#medias" class="menu-item" onclick="showSection('medias')">
                    <span class="menu-icon">üñºÔ∏è</span>
                    <span>M√©dias</span>
                </a>
                <a href="#vitrinepay" class="menu-item" onclick="showSection('vitrinepay')">
                    <span class="menu-icon">‚öôÔ∏è</span>
                    <span>Vitrine & Paiement</span>
                </a>
            </div>

        </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Dashboard Section -->
        <section id="dashboard-section" class="content-section">
            <div class="content-header">
                <h1 class="page-title">Tableau de Bord</h1>
                <div class="breadcrumb">
                    <span>Admin</span> / <span>Vue d'ensemble</span>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="quick-actions">
                <div class="quick-action-card" onclick="openModal('newQuote')">
                    <div class="quick-action-icon">üìù</div>
                    <div>Nouveau Devis</div>
                </div>
                <div class="quick-action-card" onclick="openModal('newAppointment')">
                    <div class="quick-action-icon">üìÖ</div>
                    <div>Nouveau RDV</div>
                </div>
                <div class="quick-action-card" onclick="openModal('newClient')">
                    <div class="quick-action-icon">üë§</div>
                    <div>Nouveau Client</div>
                </div>
                <div class="quick-action-card" onclick="openModal('newProject')">
                    <div class="quick-action-icon">üèóÔ∏è</div>
                    <div>Nouveau Chantier</div>
                </div>
            </div>

            <!-- Stats Cards -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value">‚Ç¨45,670</div>
                    <div class="stat-label">Chiffre d'affaires ce mois</div>
                    <div class="stat-change positive">+12.5%</div>
                </div>
                <div class="stat-card success">
                    <div class="stat-value">27</div>
                    <div class="stat-label">Nouveaux clients</div>
                    <div class="stat-change positive">+8</div>
                </div>
                <div class="stat-card warning">
                    <div class="stat-value">12</div>
                    <div class="stat-label">Devis en attente</div>
                    <div class="stat-change negative">+3</div>
                </div>
                <div class="stat-card danger">
                    <div class="stat-value">5</div>
                    <div class="stat-label">RDV aujourd'hui</div>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="section-card">
                <div class="section-header">
                    <h2 class="section-title">Activit√© R√©cente</h2>
                    <button class="btn btn-outline">Voir tout</button>
                </div>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Client</th>
                            <th>Type</th>
                            <th>Montant</th>
                            <th>Statut</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>04/09/2025</td>
                            <td>Jean Dupont</td>
                            <td>Devis Salle de bain</td>
                            <td>‚Ç¨8,500</td>
                            <td><span class="status-badge pending">En attente</span></td>
                            <td>
                                <div class="table-actions">
                                    <button class="action-btn edit">Voir</button>
                                    <button class="action-btn edit">Modifier</button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>03/09/2025</td>
                            <td>Marie Martin</td>
                            <td>RDV Cuisine</td>
                            <td>‚Ç¨12,000</td>
                            <td><span class="status-badge active">Confirm√©</span></td>
                            <td>
                                <div class="table-actions">
                                    <button class="action-btn edit">Voir</button>
                                    <button class="action-btn edit">Modifier</button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>02/09/2025</td>
                            <td>Pierre Durand</td>
                            <td>Chantier Terrasse</td>
                            <td>‚Ç¨6,200</td>
                            <td><span class="status-badge active">En cours</span></td>
                            <td>
                                <div class="table-actions">
                                    <button class="action-btn edit">Voir</button>
                                    <button class="action-btn edit">Modifier</button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Charts -->
            <div class="charts-grid">
                <div class="chart-container">
                    <div class="chart-header">
                        <h3>√âvolution CA 2025</h3>
                        <select class="form-select" style="width: 150px;">
                            <option>Cette ann√©e</option>
                            <option>6 derniers mois</option>
                            <option>30 derniers jours</option>
                        </select>
                    </div>
                    <canvas id="revenueChart" height="200"></canvas>
                </div>
                
                <div class="chart-container">
                    <div class="chart-header">
                        <h3>Services Populaires</h3>
                        <button class="btn btn-outline">D√©tails</button>
                    </div>
                    <canvas id="servicesChart" height="200"></canvas>
                </div>
            </div>
        </section>

        <!-- Services Management Section -->
        <section id="services-section" class="content-section" style="display: none;">
            <div class="content-header">
                <h1 class="page-title">Gestion du Catalogue Services</h1>
                <div class="breadcrumb">
                    <span>Admin</span> / <span>Services</span>
                </div>
            </div>

            <div class="section-card">
                <div class="section-header">
                    <h2 class="section-title">Catalogue Complet (600+ services)</h2>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary" onclick="openServiceEditor()">‚ûï Nouveau Service</button>
                        <button class="btn btn-outline" onclick="exportServices()">üì• Exporter</button>
                        <button class="btn btn-outline" onclick="importServices()">üì§ Importer</button>
                    </div>
                </div>

                <div class="tabs">
                    <button class="tab active" onclick="showServiceCategory('all')">Tous</button>
                    <button class="tab" onclick="showServiceCategory('revetements')">Rev√™tements</button>
                    <button class="tab" onclick="showServiceCategory('salle-bain')">Salle de Bain</button>
                    <button class="tab" onclick="showServiceCategory('cuisine')">Cuisine</button>
                    <button class="tab" onclick="showServiceCategory('menuiserie')">Menuiserie</button>
                    <button class="tab" onclick="showServiceCategory('chauffage')">Chauffage</button>
                    <button class="tab" onclick="showServiceCategory('electricite')">√âlectricit√©</button>
                    <button class="tab" onclick="showServiceCategory('plomberie')">Plomberie</button>
                    <button class="tab" onclick="showServiceCategory('exterieur')">Ext√©rieur</button>
                </div>

                <div class="search-bar">
                    <input type="text" class="search-input" placeholder="Rechercher un service..." id="serviceSearch" onkeyup="filterServices()">
                    <select class="form-select" style="width: 200px;">
                        <option>Tous les √©tats</option>
                        <option>Actifs</option>
                        <option>D√©sactiv√©s</option>
                        <option>En promotion</option>
                    </select>
                </div>

                <table class="data-table" id="servicesTable">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Service</th>
                            <th>Cat√©gorie</th>
                            <th>Prix</th>
                            <th>Unit√©</th>
                            <th>√âtat</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="servicesTableBody">
                        <!-- Services will be loaded here -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Prices Management Section -->
        <section id="prices-section" class="content-section" style="display: none;">
            <div class="content-header">
                <h1 class="page-title">Gestion des Tarifs</h1>
                <div class="breadcrumb">
                    <span>Admin</span> / <span>Tarifs</span>
                </div>
            </div>

            <div class="section-card">
                <div class="section-header">
                    <h2 class="section-title">Configuration Tarifaire</h2>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary" onclick="applyBulkPriceUpdate()">üìä Augmentation Globale</button>
                        <button class="btn btn-success" onclick="saveAllPrices()">üíæ Sauvegarder</button>
                    </div>
                </div>

                <div class="form-grid" style="margin-bottom: 30px;">
                    <div class="form-group">
                        <label class="form-label">TVA Standard (%)</label>
                        <input type="number" class="form-input" id="vatRate" value="10" min="0" max="100">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Frais D√©placement Local (‚Ç¨)</label>
                        <input type="number" class="form-input" id="localTravel" value="30" min="0">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Frais D√©placement √âtendu (‚Ç¨)</label>
                        <input type="number" class="form-input" id="extendedTravel" value="60" min="0">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Majoration Urgence (%)</label>
                        <input type="number" class="form-input" id="urgencyRate" value="120" min="0">
                    </div>
                </div>

                <div class="tabs">
                    <button class="tab active" onclick="showPriceCategory('adjustments')">Ajustements Rapides</button>
                    <button class="tab" onclick="showPriceCategory('promotions')">Promotions</button>
                    <button class="tab" onclick="showPriceCategory('history')">Historique</button>
                </div>

                <div class="tab-content active" id="adjustments-tab">
                    <h3 style="margin-bottom: 20px;">Modifications Rapides par Cat√©gorie</h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">Cat√©gorie</label>
                            <select class="form-select" id="priceCategory">
                                <option>Toutes les cat√©gories</option>
                                <option>Rev√™tements</option>
                                <option>Salle de Bain</option>
                                <option>Cuisine</option>
                                <option>Menuiserie</option>
                                <option>Chauffage</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Type d'ajustement</label>
                            <select class="form-select" id="adjustmentType">
                                <option value="percentage">Pourcentage</option>
                                <option value="fixed">Montant fixe</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Valeur</label>
                            <input type="number" class="form-input" id="adjustmentValue" placeholder="Ex: 5 pour 5%">
                        </div>
                        <div class="form-group">
                            <label class="form-label">&nbsp;</label>
                            <button class="btn btn-primary" onclick="applyPriceAdjustment()">Appliquer</button>
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="promotions-tab">
                    <h3 style="margin-bottom: 20px;">Gestion des Promotions</h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">Service/Cat√©gorie</label>
                            <select class="form-select" id="promoTarget">
                                <option>S√©lectionner...</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">R√©duction (%)</label>
                            <input type="number" class="form-input" id="promoDiscount" min="0" max="100">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Date d√©but</label>
                            <input type="date" class="form-input" id="promoStart">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Date fin</label>
                            <input type="date" class="form-input" id="promoEnd">
                        </div>
                    </div>
                    <button class="btn btn-success">Cr√©er Promotion</button>
                </div>
            </div>
        </section>

        <!-- Appointments Section -->
        <section id="appointments-section" class="content-section" style="display: none;">
            <div class="content-header">
                <h1 class="page-title">Gestion des Rendez-vous</h1>
                <div class="breadcrumb">
                    <span>Admin</span> / <span>Rendez-vous</span>
                </div>
            </div>

            <div class="calendar-container">
                <div class="calendar-header">
                    <button class="btn btn-outline" onclick="previousMonth()">‚óÄ</button>
                    <h3 id="currentMonth">Septembre 2025</h3>
                    <button class="btn btn-outline" onclick="nextMonth()">‚ñ∂</button>
                </div>
                <div class="calendar-grid" id="calendar">
                    <!-- Calendar will be generated -->
                </div>
            </div>

            <div class="section-card" style="margin-top: 30px;">
                <div class="section-header">
                    <h2 class="section-title">Rendez-vous du jour</h2>
                    <button class="btn btn-primary" onclick="openModal('newAppointment')">+ Nouveau RDV</button>
                </div>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Heure</th>
                            <th>Client</th>
                            <th>Service</th>
                            <th>Artisan</th>
                            <th>Statut</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>09:00</td>
                            <td>M. Durand</td>
                            <td>Devis Cuisine</td>
                            <td>Marc</td>
                            <td><span class="status-badge active">Confirm√©</span></td>
                            <td>
                                <div class="table-actions">
                                    <button class="action-btn edit">D√©tails</button>
                                    <button class="action-btn delete">Annuler</button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>11:00</td>
                            <td>Mme Martin</td>
                            <td>Suivi Chantier SDB</td>
                            <td>Pierre</td>
                            <td><span class="status-badge active">Confirm√©</span></td>
                            <td>
                                <div class="table-actions">
                                    <button class="action-btn edit">D√©tails</button>
                                    <button class="action-btn delete">Annuler</button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>14:00</td>
                            <td>M. Lefebvre</td>
                            <td>Urgence Plomberie</td>
                            <td>Jean</td>
                            <td><span class="status-badge warning">En route</span></td>
                            <td>
                                <div class="table-actions">
                                    <button class="action-btn edit">D√©tails</button>
                                    <button class="action-btn delete">Annuler</button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Clients Section -->
        <section id="clients-section" class="content-section" style="display: none;">
            <div class="content-header">
                <h1 class="page-title">Base Clients</h1>
                <div class="breadcrumb">
                    <span>Admin</span> / <span>Clients</span>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value">1,547</div>
                    <div class="stat-label">Total Clients</div>
                </div>
                <div class="stat-card success">
                    <div class="stat-value">234</div>
                    <div class="stat-label">Clients Actifs</div>
                </div>
                <div class="stat-card warning">
                    <div class="stat-value">89</div>
                    <div class="stat-label">Nouveaux ce mois</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">‚Ç¨2,850</div>
                    <div class="stat-label">Panier Moyen</div>
                </div>
            </div>

            <div class="section-card">
                <div class="section-header">
                    <h2 class="section-title">Liste des Clients</h2>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-primary" onclick="openModal('newClient')">+ Nouveau Client</button>
                        <button class="btn btn-outline">üì• Exporter</button>
                    </div>
                </div>

                <div class="search-bar">
                    <input type="text" class="search-input" placeholder="Rechercher un client...">
                    <select class="form-select" style="width: 200px;">
                        <option>Tous les clients</option>
                        <option>Clients VIP</option>
                        <option>Nouveaux clients</option>
                        <option>Inactifs</option>
                    </select>
                </div>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nom</th>
                            <th>Email</th>
                            <th>T√©l√©phone</th>
                            <th>Ville</th>
                            <th>CA Total</th>
                            <th>Dernier Contact</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>#1245</td>
                            <td>Jean Dupont</td>
                            <td>jean.dupont@email.fr</td>
                            <td>06 12 34 56 78</td>
                            <td>Tr√©gueux</td>
                            <td>‚Ç¨18,500</td>
                            <td>02/09/2025</td>
                            <td>
                                <div class="table-actions">
                                    <button class="action-btn edit">Voir</button>
                                    <button class="action-btn edit">√âditer</button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>#1244</td>
                            <td>Marie Martin</td>
                            <td>marie.martin@email.fr</td>
                            <td>06 98 76 54 32</td>
                            <td>Saint-Brieuc</td>
                            <td>‚Ç¨12,000</td>
                            <td>01/09/2025</td>
                            <td>
                                <div class="table-actions">
                                    <button class="action-btn edit">Voir</button>
                                    <button class="action-btn edit">√âditer</button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Projects Section -->
        <section id="projects-section" class="content-section" style="display: none;">
            <div class="content-header">
                <h1 class="page-title">Chantiers en Cours</h1>
                <div class="breadcrumb">
                    <span>Admin</span> / <span>Chantiers</span>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value">8</div>
                    <div class="stat-label">Chantiers Actifs</div>
                </div>
                <div class="stat-card success">
                    <div class="stat-value">3</div>
                    <div class="stat-label">Termin√©s ce mois</div>
                </div>
                <div class="stat-card warning">
                    <div class="stat-value">2</div>
                    <div class="stat-label">En retard</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">‚Ç¨125,400</div>
                    <div class="stat-label">Valeur Totale</div>
                </div>
            </div>

            <div class="section-card">
                <div class="section-header">
                    <h2 class="section-title">Suivi des Chantiers</h2>
                    <button class="btn btn-primary" onclick="openModal('newProject')">+ Nouveau Chantier</button>
                </div>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>R√©f.</th>
                            <th>Client</th>
                            <th>Type</th>
                            <th>D√©but</th>
                            <th>Fin Pr√©vue</th>
                            <th>Avancement</th>
                            <th>√âquipe</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>#CH2025-001</td>
                            <td>M. Durand</td>
                            <td>R√©novation SDB</td>
                            <td>01/09/2025</td>
                            <td>15/09/2025</td>
                            <td>
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <div style="flex: 1; background: #e5e7eb; border-radius: 10px; height: 10px;">
                                        <div style="width: 65%; background: var(--success); height: 100%; border-radius: 10px;"></div>
                                    </div>
                                    <span>65%</span>
                                </div>
                            </td>
                            <td>Marc, Pierre</td>
                            <td>
                                <div class="table-actions">
                                    <button class="action-btn edit">Suivi</button>
                                    <button class="action-btn edit">Photos</button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>#CH2025-002</td>
                            <td>Mme Martin</td>
                            <td>Cuisine Compl√®te</td>
                            <td>25/08/2025</td>
                            <td>10/09/2025</td>
                            <td>
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <div style="flex: 1; background: #e5e7eb; border-radius: 10px; height: 10px;">
                                        <div style="width: 85%; background: var(--warning); height: 100%; border-radius: 10px;"></div>
                                    </div>
                                    <span>85%</span>
                                </div>
                            </td>
                            <td>Jean, Paul</td>
                            <td>
                                <div class="table-actions">
                                    <button class="action-btn edit">Suivi</button>
                                    <button class="action-btn edit">Photos</button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
    
        <!-- M√©dias Section -->
        <section id="medias-section" class="content-section" style="display:none;">
            <div class="content-header">
                <h1 class="page-title">M√©dias</h1>
                <div class="breadcrumb"><span>Admin</span> / <span>M√©dias</span></div>
            </div>
            <div class="section-card">
                <h3>Biblioth√®que d'images</h3>
                <p class="small">D√©posez des images (jpg/png/webp). Elles seront envoy√©es dans <b>Firebase Storage</b> et r√©f√©renc√©es pour la vitrine.</p>
                <div id="drop" class="drop">D√©posez des images ou cliquez</div>
                <input type="file" id="picker" accept="image/*" multiple style="display:none">
                <p class="small">Cl√© = <b>slug</b> (nom normalis√©). Exemple : <code>salle-de-bain-moderne</code></p>
            </div>
            <div class="section-card">
                <div class="row" style="gap:8px;">
                    <button id="refreshMedia" class="btn btn-outline">Rafra√Æchir</button>
                    <button id="publishMap" class="btn btn-primary">Publier image-map.json</button>
                    <span class="small">Chemin : <code>/public/image-map.json</code></span>
                </div>
                <div id="mediaList" class="grid grid-3" style="margin-top:10px;"></div>
            </div>
        </section>

        <!-- Vitrine & Paiement Section -->
        <section id="vitrinepay-section" class="content-section" style="display:none;">
            <div class="content-header">
                <h1 class="page-title">Vitrine & Paiement</h1>
                <div class="breadcrumb"><span>Admin</span> / <span>Vitrine & Paiement</span></div>
            </div>
            <div class="section-card">
                <h3>Param√®tres Vitrine</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">URL image-map.json</label>
                        <input id="imageMapUrl" class="form-input" placeholder="/public/image-map.json">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Afficher PayPal</label>
                        <select id="showPayPal" class="form-select"><option value="true">Oui</option><option value="false">Non</option></select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Acompte (%)</label>
                        <input id="depositPercent" type="number" class="form-input" value="30" min="0" max="100">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Plancher (‚Ç¨)</label>
                        <input id="depositFloor" type="number" class="form-input" value="50" min="0">
                    </div>
                </div>
                <div class="row" style="margin-top:10px;"><button id="saveVitrine" class="btn btn-primary">Enregistrer</button></div>
            </div>

            <div class="section-card">
                <h3>PayPal (public)</h3>
                <p class="small">Les <b>secrets</b> restent c√¥t√© serveur. Ici on g√®re <i>clientId</i>, <i>webhookId</i> et <i>apiBase</i>.</p>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">API Base</label>
                        <input id="apiBase" class="form-input" placeholder="https://api.mj-service-pro.fr">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Webhook ID</label>
                        <input id="webhookId" class="form-input" placeholder="62X34978NB6139444">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Client ID (public)</label>
                        <input id="ppClientId" class="form-input" placeholder="AdKy...X1z">
                    </div>
                </div>
                <div class="row" style="margin-top:10px;"><button id="savePay" class="btn btn-primary">Enregistrer</button></div>
            </div>
        </section>

    
        <!-- Auto-added: Stats Section (light) -->
        <section id="stats-section" class="content-section" style="display:none;">
            <div class="content-header">
                <h1 class="page-title">Statistiques</h1>
                <div class="breadcrumb"><span>Admin</span> / <span>Statistiques</span></div>
            </div>
            <div class="charts-grid">
                <div class="chart-container">
                    <div class="chart-header"><h3>CA par mois</h3></div>
                    <canvas id="statsRevenue" height="200"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-header"><h3>R√©partition services</h3></div>
                    <canvas id="statsPie" height="200"></canvas>
                </div>
            </div>
        </section>

        <!-- Auto-added: Zones Section (light) -->
        <section id="zones-section" class="content-section" style="display:none;">
            <div class="content-header">
                <h1 class="page-title">Zones d'intervention</h1>
                <div class="breadcrumb"><span>Admin</span> / <span>Zones</span></div>
            </div>
            <div class="section-card">
                <h3>Param√®tres Zones</h3>
                <div class="form-grid">
                    <div class="form-group"><label class="form-label">Adresse de base</label><input id="zoneBase" class="form-input" placeholder="3 Rue des Artisans, 22000 Saint-Brieuc"></div>
                    <div class="form-group"><label class="form-label">Rayon Zone Locale (km)</label><input id="zoneLocalKm" type="number" class="form-input" value="15" min="0"></div>
                    <div class="form-group"><label class="form-label">Rayon Zone √âtendue (km)</label><input id="zoneExtKm" type="number" class="form-input" value="30" min="0"></div>
                </div>
                <div class="row" style="margin-top:10px;"><button id="saveZones" class="btn btn-primary">Enregistrer</button></div>
                <p class="small" style="margin-top:10px;">Ces valeurs sont utilis√©es par la vitrine pour les frais de d√©placement (local/√©tendu).</p>
            </div>
        </section>
</main>

    <!-- Modal Template -->
    <div class="modal" id="serviceModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">√âditer Service</h2>
                <button class="modal-close" onclick="closeModal('serviceModal')">&times;</button>
            </div>
            <form id="serviceForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Nom du Service</label>
                        <input type="text" class="form-input" id="serviceName" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Cat√©gorie</label>
                        <select class="form-select" id="serviceCategory" required>
                            <option>Rev√™tements</option>
                            <option>Salle de Bain</option>
                            <option>Cuisine</option>
                            <option>Menuiserie</option>
                            <option>Chauffage</option>
                            <option>√âlectricit√©</option>
                            <option>Plomberie</option>
                            <option>Ext√©rieur</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Prix (‚Ç¨)</label>
                        <input type="number" class="form-input" id="servicePrice" min="0" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Unit√©</label>
                        <select class="form-select" id="serviceUnit" required>
                            <option>m¬≤</option>
                            <option>ml</option>
                            <option>unit√©</option>
                            <option>jour</option>
                            <option>heure</option>
                            <option>forfait</option>
                            <option>intervention</option>
                        </select>
                    </div>
                    <div class="form-group" style="grid-column: 1/-1;">
                        <label class="form-label">Description</label>
                        <textarea class="form-textarea" id="serviceDescription" rows="3"></textarea>
                    </div>
                </div>
                <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 25px;">
                    <button type="button" class="btn btn-outline" onclick="closeModal('serviceModal')">Annuler</button>
                    <button type="submit" class="btn btn-primary">Sauvegarder</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Load services data from localStorage or default
        let servicesData = JSON.parse(localStorage.getItem('mjcreations_services')) || {};
        
        // Initialize with some sample data if empty
        if (Object.keys(servicesData).length === 0) {
            servicesData = {
                'revetements': [
                    { id: 'pose_carrelage_sol_standard', name: 'Pose carrelage sol standard', price: 55, unit: 'm¬≤', active: true },
                    { id: 'pose_parquet_flottant', name: 'Pose parquet flottant', price: 28, unit: 'm¬≤', active: true }
                ],
                'salle-bain': [
                    { id: 'renovation_sdb_complete', name: 'R√©novation SDB compl√®te', price: 9000, unit: 'forfait', active: true },
                    { id: 'pose_douche_italienne', name: 'Pose douche italienne', price: 1150, unit: 'unit√©', active: true }
                ],
                'cuisine': [
                    { id: 'pose_cuisine_complete', name: 'Pose cuisine compl√®te', price: 550, unit: 'jour', active: true }
                ]
            };
            saveServices();
        }

        // Dashboard functions
        function showSection(section) {
            // Hide all sections
            document.querySelectorAll('.content-section').forEach(s => {
                s.style.display = 'none';
            });
            
            // Show selected section
            const sectionElement = document.getElementById(section + '-section');
            if (sectionElement) {
                sectionElement.style.display = 'block';
            }
            
            // Update active menu
            document.querySelectorAll('.menu-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.closest('.menu-item').classList.add('active');
            
            // Load section-specific data
            if (section === 'services') {
                loadServices();
            }
        }

        // Services management
        function loadServices() {
            const tbody = document.getElementById('servicesTableBody');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            let counter = 1;
            
            Object.keys(servicesData).forEach(category => {
                servicesData[category].forEach(service => {
                    const row = `
                        <tr>
                            <td>#${counter++}</td>
                            <td>${service.name}</td>
                            <td>${category}</td>
                            <td>
                                <div class="price-editor">
                                    <input type="number" class="price-input" value="${service.price}" 
                                           onchange="updateServicePrice('${service.id}', '${category}', this.value)">
                                    <span>‚Ç¨</span>
                                </div>
                            </td>
                            <td>${service.unit}</td>
                            <td>
                                <span class="status-badge ${service.active ? 'active' : 'inactive'}">
                                    ${service.active ? 'Actif' : 'Inactif'}
                                </span>
                            </td>
                            <td>
                                <div class="table-actions">
                                    <button class="action-btn edit" onclick="editService('${service.id}', '${category}')">√âditer</button>
                                    <button class="action-btn delete" onclick="toggleService('${service.id}', '${category}')">
                                        ${service.active ? 'D√©sactiver' : 'Activer'}
                                    </button>
                                </div>
                            </td>
                        </tr>
                    `;
                    tbody.innerHTML += row;
                });
            });
        }

        function updateServicePrice(serviceId, category, newPrice) {
            const service = servicesData[category].find(s => s.id === serviceId);
            if (service) {
                service.price = parseFloat(newPrice);
                saveServices();
                showNotification('Prix mis √† jour', 'success');
            }
        }

        function toggleService(serviceId, category) {
            const service = servicesData[category].find(s => s.id === serviceId);
            if (service) {
                service.active = !service.active;
                saveServices();
                loadServices();
                showNotification(service.active ? 'Service activ√©' : 'Service d√©sactiv√©', 'success');
            }
        }

        function saveServices() {
            localStorage.setItem('mjcreations_services', JSON.stringify(servicesData));
        }

        function filterServices() {
            const searchTerm = document.getElementById('serviceSearch').value.toLowerCase();
            const rows = document.querySelectorAll('#servicesTableBody tr');
            
            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                row.style.display = text.includes(searchTerm) ? '' : 'none';
            });
        }

        function applyPriceAdjustment() {
            const category = document.getElementById('priceCategory').value;
            const type = document.getElementById('adjustmentType').value;
            const value = parseFloat(document.getElementById('adjustmentValue').value);
            
            if (!value) {
                showNotification('Veuillez entrer une valeur', 'error');
                return;
            }
            
            let updated = 0;
            Object.keys(servicesData).forEach(cat => {
                if (category === 'Toutes les cat√©gories' || cat === category.toLowerCase()) {
                    servicesData[cat].forEach(service => {
                        if (type === 'percentage') {
                            service.price = service.price * (1 + value/100);
                        } else {
                            service.price = service.price + value;
                        }
                        updated++;
                    });
                }
            });
            
            saveServices();
            loadServices();
            showNotification(`${updated} prix mis √† jour`, 'success');
        }

        function saveAllPrices() {
            saveServices();
            // Also save to server
            fetch('/api/admin/services/save', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(servicesData)
            }).then(() => {
                showNotification('Tous les prix ont √©t√© sauvegard√©s', 'success');
            }).catch(() => {
                showNotification('Sauvegarde locale effectu√©e', 'success');
            });
        }

        // Modal functions
        function openModal(modalType) {
            const modal = document.getElementById('serviceModal');
            if (modal) {
                modal.classList.add('active');
            }
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.remove('active');
            }
        }

        // Notification
        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <span style="font-size: 1.5rem;">${type === 'success' ? '‚úì' : '‚ö†'}</span>
                <span>${message}</span>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease-in forwards';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Mobile toggle
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('active');
        }

        // Calendar functions
        function generateCalendar() {
            const calendar = document.getElementById('calendar');
            if (!calendar) return;
            
            const today = new Date();
            const month = today.getMonth();
            const year = today.getFullYear();
            const firstDay = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            
            calendar.innerHTML = '';
            
            // Week days
            const weekDays = ['Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam', 'Dim'];
            weekDays.forEach(day => {
                const dayElement = document.createElement('div');
                dayElement.style.fontWeight = '600';
                dayElement.style.textAlign = 'center';
                dayElement.textContent = day;
                calendar.appendChild(dayElement);
            });
            
            // Empty cells
            for (let i = 0; i < (firstDay === 0 ? 6 : firstDay - 1); i++) {
                calendar.appendChild(document.createElement('div'));
            }
            
            // Days
            for (let day = 1; day <= daysInMonth; day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
                dayElement.textContent = day;
                
                // Add events indicator
                if (Math.random() > 0.7) {
                    dayElement.classList.add('has-events');
                    const count = Math.floor(Math.random() * 3) + 1;
                    dayElement.innerHTML += `<span class="event-count">${count}</span>`;
                }
                
                calendar.appendChild(dayElement);
            }
        }

        // Export/Import functions
        function exportServices() {
            const dataStr = JSON.stringify(servicesData, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            
            const exportFileDefaultName = 'services_mjcreations.json';
            
            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileDefaultName);
            linkElement.click();
            
            showNotification('Services export√©s', 'success');
        }

        function importServices() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            input.onchange = e => {
                const file = e.target.files[0];
                const reader = new FileReader();
                reader.onload = event => {
                    try {
                        servicesData = JSON.parse(event.target.result);
                        saveServices();
                        loadServices();
                        showNotification('Services import√©s avec succ√®s', 'success');
                    } catch (error) {
                        showNotification('Erreur lors de l\'import', 'error');
                    }
                };
                reader.readAsText(file);
            };
            input.click();
        }

        // Initialize on load
        document.addEventListener('DOMContentLoaded', function() {
            generateCalendar();
            
            // Simulate real-time updates
            setInterval(() => {
                const statValues = document.querySelectorAll('.stat-value');
                statValues.forEach(stat => {
                    if (stat.textContent.includes('‚Ç¨')) {
                        const value = parseInt(stat.textContent.replace(/[‚Ç¨,]/g, ''));
                        const change = Math.floor(Math.random() * 100) - 50;
                        stat.textContent = '‚Ç¨' + (value + change).toLocaleString('fr-FR');
                    }
                });
            }, 5000);
        });

        // Save data periodically
        setInterval(saveServices, 30000);
    </script>

<script>
// === Firebase bindings (safe if config present) ===
let db=null, st=null, auth=null;
if (window.firebase && firebase.apps && !firebase.apps.length) {
  console.warn("Firebase config manquant (chargez /assets/js/firebase-config.js).");
} else if (window.firebase && firebase.apps) {
  try {
    db = firebase.firestore();
    st = firebase.storage();
    auth = firebase.auth();
  } catch(e){ console.warn("Firebase indisponible:", e); }
}
if (auth) { auth.onAuthStateChanged(u=>{ /* could show who */ }); try{auth.signInAnonymously();}catch(e){} }

// === Utilities ===
const $ = q=>document.querySelector(q);
const $$ = q=>Array.from(document.querySelectorAll(q));
function slugify(t){ return (t||'').toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g,'').replace(/[^a-z0-9\s-]/g,'').trim().replace(/\s+/g,'-').replace(/-+/g,'-').slice(0,120); }
function toast(msg){ const n=document.createElement('div'); n.className='notification success'; n.innerHTML=`<span style="font-size:1.5rem;">‚úì</span><span>${msg}</span>`; document.body.appendChild(n); setTimeout(()=>{ n.remove(); }, 2500); }

// === Override showSection to support new panels ===
const _showSection = window.showSection;
window.showSection = function(section){
  document.querySelectorAll('.content-section').forEach(s=> s.style.display='none');
  const el = document.getElementById(section+'-section'); if(el) el.style.display='block';
  // load when entering specific sections
  if (section==='services') { loadServices(); }
  if (section==='medias') { refreshMedia(); }
  if (section==='vitrinepay') { loadSettings(); }
}

// === Services: persist to Firestore (fallback localStorage) ===
async function cloudSaveServices(){
  if(!db) return false;
  try {
    await db.collection('services_catalog').doc('v1').set({ data: servicesData, updatedAt: Date.now() }, { merge: true });
    return true;
  } catch(e){ console.warn("cloudSaveServices:", e); return false; }
}

async function cloudLoadServices(){
  if(!db) return null;
  try {
    const snap = await db.collection('services_catalog').doc('v1').get();
    if (snap.exists) return snap.data().data || null;
    return null;
  } catch(e){ console.warn("cloudLoadServices:", e); return null; }
}

// Patch existing functions if present
if (typeof saveServices === 'function'){
  const _saveServices = saveServices;
  window.saveServices = async function(){
    _saveServices();
    await cloudSaveServices();
  }
}
if (typeof loadServices === 'function'){
  const _loadServices = loadServices;
  window.loadServices = async function(){
    // try cloud first
    const cloud = await cloudLoadServices();
    if (cloud) { servicesData = cloud; }
    _loadServices();
  }
}

// === M√©dias (Storage + Firestore: collection 'media') ===
const drop = document.getElementById('drop');
const picker = document.getElementById('picker');
const mediaList = document.getElementById('mediaList');
if (drop){
  drop.addEventListener('click', ()=> picker.click());
  ['dragenter','dragover'].forEach(ev=> drop?.addEventListener(ev, e=>{ e.preventDefault(); drop.classList.add('drag'); }));
  ['dragleave','drop'].forEach(ev=> drop?.addEventListener(ev, e=>{ e.preventDefault(); drop.classList.remove('drag'); }));
  drop.addEventListener('drop', e=> handleMediaFiles(e.dataTransfer.files));
  picker?.addEventListener('change', e=> handleMediaFiles(e.target.files));
}

async function handleMediaFiles(files){
  if(!st || !db){ alert("Firebase non configur√©."); return; }
  const arr = Array.from(files||[]).filter(f=> /image\/(png|jpe?g|webp)/i.test(f.type));
  for(const f of arr){
    const ext = (f.name.split('.').pop()||'jpg').toLowerCase();
    const key = slugify(f.name.replace(/\.(png|jpe?g|webp)$/i,''));
    const ref = st.ref(`media/${key}.${ext}`);
    await st.uploadBytes(ref, f);
    const url = await st.getDownloadURL(ref);
    await db.collection('media').doc(key).set({ key, url, name:f.name, updatedAt: Date.now() }, { merge:true });
  }
  toast("Images upload√©es");
  await refreshMedia();
}

async function refreshMedia(){
  if(!db || !mediaList) return;
  mediaList.innerHTML = "";
  const snap = await db.collection('media').orderBy('updatedAt','desc').limit(300).get();
  snap.forEach(doc=>{
    const d = doc.data();
    const card = document.createElement('div');
    card.className = 'card';
    card.innerHTML = `<img class="thumb" src="${d.url}" alt=""><div class="row" style="margin-top:6px"><code>${d.key}</code><span class="small">${d.name||''}</span></div>`;
    mediaList.appendChild(card);
  });
}
document.getElementById('refreshMedia')?.addEventListener('click', refreshMedia);

// Publish image-map.json in Storage (/public/image-map.json)
document.getElementById('publishMap')?.addEventListener('click', async ()=>{
  if(!db || !st){ alert("Firebase non configur√©."); return; }
  const snap = await db.collection('media').get();
  const map = {}; snap.forEach(doc=>{ map[doc.id]=doc.data().url; });
  const blob = new Blob([JSON.stringify({version:'1.0', map}, null, 2)], {type:'application/json'});
  const ref = st.ref('public/image-map.json');
  await st.uploadBytes(ref, blob);
  toast("image-map.json publi√©");
});

// === Settings (Firestore: /settings/public & /settings/payments) ===
const imageMapUrl = document.getElementById('imageMapUrl');
const showPayPal = document.getElementById('showPayPal');
const depositPercent = document.getElementById('depositPercent');
const depositFloor = document.getElementById('depositFloor');
const apiBase = document.getElementById('apiBase');
const webhookId = document.getElementById('webhookId');
const ppClientId = document.getElementById('ppClientId');

async function loadSettings(){
  if(!db) return;
  const sPub = await db.collection('settings').doc('public').get();
  const sPay = await db.collection('settings').doc('payments').get();
  if (sPub.exists){
    const d = sPub.data();
    if (imageMapUrl) imageMapUrl.value = d.imageMapUrl || '/public/image-map.json';
    if (showPayPal) showPayPal.value = String(d.showPayPal ?? true);
    if (depositPercent) depositPercent.value = d.depositPercent ?? 30;
    if (depositFloor) depositFloor.value = d.depositFloor ?? 50;
  }
  if (sPay.exists){
    const p = sPay.data();
    if (apiBase) apiBase.value = p.apiBase || 'https://api.mj-service-pro.fr';
    if (webhookId) webhookId.value = p.webhookId || '';
    if (ppClientId) ppClientId.value = p.clientId || '';
  }
}
document.getElementById('saveVitrine')?.addEventListener('click', async ()=>{
  if(!db) return;
  await db.collection('settings').doc('public').set({
    imageMapUrl: (imageMapUrl?.value||'/public/image-map.json').trim(),
    showPayPal: (showPayPal?.value==='true'),
    depositPercent: +(depositPercent?.value||0),
    depositFloor: +(depositFloor?.value||0),
    updatedAt: Date.now()
  }, { merge:true });
  toast("Param√®tres vitrine enregistr√©s");
});
document.getElementById('savePay')?.addEventListener('click', async ()=>{
  if(!db) return;
  await db.collection('settings').doc('payments').set({
    apiBase: (apiBase?.value||'').trim(),
    webhookId: (webhookId?.value||'').trim(),
    clientId: (ppClientId?.value||'').trim(),
    updatedAt: Date.now()
  }, { merge:true });
  toast("Param√®tres PayPal enregistr√©s");
});
</script>


<script>
// ===== Admin PATCH: valeurs par d√©faut + fallback localStorage =====
(function(){
  const DEFAULTS_PUBLIC = {
    imageMapUrl: "/public/image-map.json",
    showPayPal: true,
    depositPercent: 30,
    depositFloor: 50
  };
  const DEFAULTS_PAY = {
    apiBase: "https://api.mj-service-pro.fr",
    webhookId: "62X34978NB6139444",
    clientId: "AdKynU2D6sTxRkvlUeS5NnUEyd8xuCH1SIrT30icRZKjvoeyl6WimLiGzXgbQQfyDzOEm6fhxxC4CX1z"
  };
  const DEFAULTS_PRICES = {
    vatRate: 10,
    localTravel: 30,
    extendedTravel: 60,
    urgencyRate: 120
  };

  // Helpers
  const ls = {
    get: k => { try { return JSON.parse(localStorage.getItem(k) || "null"); } catch(e){ return null; } },
    set: (k,v) => localStorage.setItem(k, JSON.stringify(v))
  };

  // Pr√©remplir "Vitrine & Paiement" si Firestore pas dispo ou vide
  async function ensureSettingsPrefilled(){
    const hasDb = !!(window.db);
    // Public
    let pub = ls.get("settings_public");
    if (!pub) {
      pub = DEFAULTS_PUBLIC;
      ls.set("settings_public", pub);
    }
    // Pay
    let pay = ls.get("settings_payments");
    if (!pay) {
      pay = DEFAULTS_PAY;
      ls.set("settings_payments", pay);
    }

    // Renseigne l'UI imm√©diatement
    const imageMapUrlEl = document.getElementById('imageMapUrl');
    const showPayPalEl = document.getElementById('showPayPal');
    const depositPercentEl = document.getElementById('depositPercent');
    const depositFloorEl = document.getElementById('depositFloor');
    const apiBaseEl = document.getElementById('apiBase');
    const webhookIdEl = document.getElementById('webhookId');
    const ppClientIdEl = document.getElementById('ppClientId');
    if (imageMapUrlEl) imageMapUrlEl.value = pub.imageMapUrl;
    if (showPayPalEl) showPayPalEl.value = String(pub.showPayPal);
    if (depositPercentEl) depositPercentEl.value = pub.depositPercent;
    if (depositFloorEl) depositFloorEl.value = pub.depositFloor;
    if (apiBaseEl) apiBaseEl.value = pay.apiBase;
    if (webhookIdEl) webhookIdEl.value = pay.webhookId;
    if (ppClientIdEl) ppClientIdEl.value = pay.clientId;

    // Quand on clique "Enregistrer", sauver aussi dans localStorage (d√©j√† g√©r√© c√¥t√© Firestore)
    const saveVitrineBtn = document.getElementById('saveVitrine');
    if (saveVitrineBtn && !saveVitrineBtn._lsBound) {
      saveVitrineBtn._lsBound = true;
      saveVitrineBtn.addEventListener('click', ()=>{
        const newPub = {
          imageMapUrl: (imageMapUrlEl?.value||"").trim() || DEFAULTS_PUBLIC.imageMapUrl,
          showPayPal: (showPayPalEl?.value==='true'),
          depositPercent: +(depositPercentEl?.value||DEFAULTS_PUBLIC.depositPercent),
          depositFloor: +(depositFloorEl?.value||DEFAULTS_PUBLIC.depositFloor)
        };
        ls.set("settings_public", newPub);
      });
    }
    const savePayBtn = document.getElementById('savePay');
    if (savePayBtn && !savePayBtn._lsBound) {
      savePayBtn._lsBound = true;
      savePayBtn.addEventListener('click', ()=>{
        const newPay = {
          apiBase: (apiBaseEl?.value||"").trim() || DEFAULTS_PAY.apiBase,
          webhookId: (webhookIdEl?.value||"").trim() || DEFAULTS_PAY.webhookId,
          clientId: (ppClientIdEl?.value||"").trim() || DEFAULTS_PAY.clientId
        };
        ls.set("settings_payments", newPay);
      });
    }
  }

  // Pr√©remplir "Gestion Tarifs"
  function ensurePricePrefilled(){
    const p = ls.get("settings_prices") || DEFAULTS_PRICES;
    const vat = document.getElementById('vatRate');
    const lt = document.getElementById('localTravel');
    const et = document.getElementById('extendedTravel');
    const ur = document.getElementById('urgencyRate');
    if (vat) vat.value = p.vatRate;
    if (lt) lt.value = p.localTravel;
    if (et) et.value = p.extendedTravel;
    if (ur) ur.value = p.urgencyRate;

    // Sauvegarde sur clic "Sauvegarder"
    const saveBtn = Array.from(document.querySelectorAll('button')).find(b=>b.textContent.includes('Sauvegarder'));
    if (saveBtn && !saveBtn._lsBound) {
      saveBtn._lsBound = true;
      saveBtn.addEventListener('click', ()=>{
        const np = {
          vatRate: +(vat?.value||DEFAULTS_PRICES.vatRate),
          localTravel: +(lt?.value||DEFAULTS_PRICES.localTravel),
          extendedTravel: +(et?.value||DEFAULTS_PRICES.extendedTravel),
          urgencyRate: +(ur?.value||DEFAULTS_PRICES.urgencyRate)
        };
        ls.set("settings_prices", np);
      });
    }
  }

  // Au chargement / √† chaque changement d'onglet, on tente de remplir
  document.addEventListener('DOMContentLoaded', ()=>{
    ensureSettingsPrefilled();
    ensurePricePrefilled();
    // Monkey-patch showSection pour re-pr√©remplir quand on change d'onglet
    const prevShow = window.showSection;
    window.showSection = function(s){
      try{ prevShow && prevShow.call(this, s); }catch(e){}
      const el = document.getElementById(s+'-section');
      if (!el) {
        // fallback: show dashboard
        document.getElementById('dashboard-section')?.style.setProperty('display','block');
      }
      setTimeout(()=>{ ensureSettingsPrefilled(); ensurePricePrefilled(); }, 50);
    };
  });
})();
</script>


<!-- MJC ADMIN PATCH 2: Advanced Invoicing, Prospects‚ÜíClients, Alerts -->
<script>
(function(){
  const db = window.MJ_db;

  // ===== Helpers =====
  const fmtEUR = (n)=> new Intl.NumberFormat('fr-FR',{style:'currency',currency:'EUR'}).format(n||0);
  const todayISO = ()=> new Date().toISOString().slice(0,10);

  // ===== Prospects stream ‚Üí Admin board =====
  async function renderProspects(){
    const box = document.querySelector('#admin_prospects_list') || document.querySelector('#prospects-list') || document.querySelector('.prospects-list');
    if (!box) return;
    box.innerHTML = '<div style="padding:10px;color:#6b7280">Chargement des prospects‚Ä¶</div>';
    const snap = await db.collection('prospects').orderBy('createdAt','desc').limit(50).get();
    box.innerHTML = '';
    snap.forEach(doc => {
      const p = doc.data();
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `
        <div style="display:flex;justify-content:space-between;gap:12px;align-items:center;">
          <div>
            <div style="font-weight:800">${(p.demande?.contact?.nom||'Prospect')} ‚Äî ${(p.demande?.service||'Service')}</div>
            <div style="color:#6b7280">${(p.demande?.contact?.email||'')} ¬∑ ${(p.demande?.contact?.tel||'')}</div>
            <div style="color:#6b7280;font-size:.9rem">${(p.demande?.localisation?.cp||'')} ${(p.demande?.localisation?.ville||'')}</div>
          </div>
          <div style="display:flex;gap:8px;flex-wrap:wrap">
            <button class="btn" data-act="convert" data-id="${doc.id}">Convertir en client</button>
            <button class="btn outline" data-act="estimate" data-id="${doc.id}">Cr√©er devis</button>
            <button class="btn outline" data-act="invoice" data-id="${doc.id}">Cr√©er facture</button>
          </div>
        </div>`;
      box.appendChild(card);
    });
    box.addEventListener('click', onProspectAction, { once:true });
  }
  async function onProspectAction(e){
    const btn = e.target.closest('button[data-act]');
    if (!btn) return;
    const id = btn.dataset.id, act = btn.dataset.act;
    const doc = await db.collection('prospects').doc(id).get();
    const p = { id, ...doc.data() };
    if (act==='convert') return convertProspect(p);
    if (act==='estimate') return createQuoteFromProspect(p);
    if (act==='invoice') return createInvoiceFromProspect(p);
  }

  // ===== Clients CRUD minimal =====
  async function convertProspect(p){
    try{
      const client = {
        infos: {
          nom: p.demande?.contact?.nom||'Client',
          email: p.demande?.contact?.email||'',
          tel: p.demande?.contact?.tel||'',
          adresse: [p.demande?.localisation?.adresse, p.demande?.localisation?.cp, p.demande?.localisation?.ville].filter(Boolean).join(', '),
          dateCreation: new Date().toISOString()
        },
        createdAt: firebase.firestore.FieldValue.serverTimestamp()
      };
      const ref = await db.collection('clients').add(client);
      await db.collection('prospects').doc(p.id).update({ statut:'converti', clientId: ref.id });
      alert('‚úÖ Prospect converti en client.');
    }catch(e){ console.error(e); alert('Erreur conversion client'); }
  }

  // ===== Devis minimal =====
  async function createQuoteFromProspect(p){
    try{
      const lignes = (p.estimation?.lignes||[]).map((txt,i)=>({ label: txt, qty:1, puHT: 0 }));
      const totalCents = p.estimation?.totalCents || 0;
      const devis = {
        prospectId: p.id,
        client: p.demande?.contact||{},
        date: todayISO(),
        lines: lignes,
        totalHT: +(totalCents/120).toFixed(2)*1.0, // approx if 20% TVA
        tva: +(totalCents/120*20).toFixed(2),
        totalTTC: +(totalCents/100).toFixed(2),
        status: 'brouillon',
        source: 'admin-from-prospect',
        createdAt: firebase.firestore.FieldValue.serverTimestamp()
      };
      const ref = await db.collection('devis').add(devis);
      alert('üìù Devis cr√©√© #' + ref.id);
    }catch(e){ console.error(e); alert('Erreur cr√©ation devis'); }
  }

  // ===== Facture avanc√©e =====
  function nextInvoiceNumber(dateStr){
    const y = dateStr.slice(0,4);
    return db.collection('counters').doc('invoice_'+y).get().then(snap=>{
      const cur = (snap.exists && snap.data().seq) ? snap.data().seq : 0;
      const next = cur + 1;
      const pad = String(next).padStart(5,'0');
      const numero = `FAC-${y}-${pad}`;
      db.collection('counters').doc('invoice_'+y).set({ seq: next }, { merge: true });
      return numero;
    });
  }

  async function createInvoiceFromProspect(p){
    try{
      const date = todayISO();
      const numero = await nextInvoiceNumber(date);
      const lines = (p.estimation?.lignes||[]).map(txt => ({ label: txt, qty:1, puHT: 100, vat:20 })); // placeholders
      const totalHT = lines.reduce((s,l)=> s + l.qty*l.puHT, 0);
      const totalTVA = lines.reduce((s,l)=> s + l.qty*l.puHT*(l.vat||20)/100, 0);
      const facture = {
        numero, date,
        client: { nom: p.demande?.contact?.nom||'Client', email: p.demande?.contact?.email||'', tel: p.demande?.contact?.tel||'' },
        lines,
        totalHT: +totalHT.toFixed(2),
        totalTVA: +totalTVA.toFixed(2),
        totalTTC: +(totalHT+totalTVA).toFixed(2),
        dueDate: date,
        status: 'emise',
        prospectId: p.id,
        createdAt: firebase.firestore.FieldValue.serverTimestamp()
      };
      const ref = await db.collection('factures').add(facture);
      alert('üßæ Facture √©mise ' + numero);
    }catch(e){ console.error(e); alert('Erreur cr√©ation facture'); }
  }

  // ===== Relances automatiques (client-side scheduler mimic) =====
  async function sendReminders(){
    const now = new Date();
    const thirtyAgo = new Date(now.getTime()-30*24*3600*1000).toISOString().slice(0,10);
    const snap = await db.collection('factures').where('status','==','emise').get();
    const toRemind = [];
    snap.forEach(doc=>{
      const f = doc.data();
      if ((f.date||'') <= thirtyAgo) toRemind.push({ id: doc.id, numero: f.numero, client: f.client });
    });
    if (toRemind.length){
      console.log('[MJC] Relances √† envoyer', toRemind);
      // TODO: call cloud function to send emails
    }
  }
  setInterval(sendReminders, 60*1000); // simple periodic check while admin page is open

  // ===== Export CSV Factures =====
  async function exportInvoicesCSV(){
    const snap = await db.collection('factures').orderBy('date').get();
    const rows = [['numero','date','client','HT','TVA','TTC','status']];
    snap.forEach(doc=>{
      const f = doc.data();
      rows.push([f.numero, f.date, f.client?.nom||'', f.totalHT, f.totalTVA, f.totalTTC, f.status]);
    });
    const csv = rows.map(r=>r.join(';')).join('\n');
    const blob = new Blob([csv], {type:'text/csv;charset=utf-8;'});
    const url = URL.createObjectURL(blob);
    const a = Object.assign(document.createElement('a'), { href:url, download: 'factures.csv' });
    document.body.appendChild(a); a.click(); a.remove();
  }

  // ===== Wire UI buttons if present =====
  document.addEventListener('DOMContentLoaded', function(){
    // Prospects stream on load
    renderProspects();

    const btnExport = document.querySelector('[data-action="export-factures-csv"], #export-factures-csv');
    if (btnExport) btnExport.addEventListener('click', exportInvoicesCSV);

    const btnRelance = document.querySelector('[data-action="relances-auto"], #relances-auto');
    if (btnRelance) btnRelance.addEventListener('click', sendReminders);
  });
})();
</script>


<!-- Auto-injected by ChatGPT: preload full MJ catalogue -->
<script>
(function(){
  const DATA = {"revetements": [{"id": "RS001", "name": "Pose carrelage sol int√©rieur", "price": 55.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS002", "name": "Pose carrelage mural", "price": 40.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS003", "name": "Pose fa√Øence salle de bain", "price": 35.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS004", "name": "Pose mosa√Øque", "price": 65.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS005", "name": "Pose carrelage terrasse", "price": 72.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS006", "name": "Pose plinthes carrelage", "price": 15.0, "unit": "ml", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS007", "name": "Pose parquet stratifi√©/contrecoll√©", "price": 25.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS008", "name": "Pose parquet flottant seul", "price": 15.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS009", "name": "Pose parquet flottant avec sous-couche", "price": 28.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS010", "name": "Pose parquet massif clou√©", "price": 98.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS011", "name": "Pose parquet massif coll√©", "price": 65.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS012", "name": "Pon√ßage parquet", "price": 25.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS013", "name": "Vitrification parquet", "price": 15.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS014", "name": "Pon√ßage + vitrification", "price": 30.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS015", "name": "Pose plinthes bois", "price": 12.0, "unit": "ml", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS016", "name": "Pose barre de seuil", "price": 25.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS017", "name": "Pose sol PVC/lino en rouleau", "price": 20.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS018", "name": "Pose lames PVC clipsables", "price": 25.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS019", "name": "Pose sol vinyle", "price": 22.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS020", "name": "Pose moquette", "price": 25.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS021", "name": "Pose jonc de mer/sisal", "price": 30.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS022", "name": "Ragr√©age autolissant", "price": 12.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS023", "name": "Ragr√©age fibr√©", "price": 15.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS024", "name": "Primaire d'accrochage", "price": 8.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS025", "name": "D√©pose ancien rev√™tement", "price": 10.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS026", "name": "Pose carrelage grand format (>60x60)", "price": 65.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS027", "name": "Pose carrelage piscine antid√©rapant", "price": 85.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS028", "name": "Pose parquet contrecoll√©", "price": 45.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS029", "name": "Huilage parquet", "price": 20.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS030", "name": "Pose quart de rond", "price": 8.0, "unit": "ml", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS031", "name": "Pose sol vinyle de luxe (LVT)", "price": 35.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS032", "name": "Pose moquette aiguillet√©e", "price": 25.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS033", "name": "Pose moquette tuft√©e", "price": 30.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS034", "name": "Pose dalles moquette", "price": 28.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS035", "name": "Pose fibre de coco", "price": 32.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS036", "name": "Pose dalles li√®ge", "price": 45.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS037", "name": "Pose parquet bambou", "price": 55.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS038", "name": "√âvacuation gravats", "price": 8.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}, {"id": "RS039", "name": "Nettoyage fin de chantier", "price": 5.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "revetements"}], "salle-bain": [{"id": "SB001", "name": "Pose baignoire acrylique", "price": 250.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB002", "name": "Pose baignoire fonte/acier", "price": 350.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB003", "name": "Pose baignoire baln√©o", "price": 500.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB004", "name": "Pose tablier baignoire", "price": 80.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB005", "name": "Pose pare-baignoire", "price": 150.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB006", "name": "Pose receveur douche", "price": 200.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB007", "name": "Pose receveur extra-plat", "price": 250.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB008", "name": "Pose cabine douche compl√®te", "price": 400.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB009", "name": "Pose douche italienne (hors carrelage)", "price": 1150.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB010", "name": "Pose paroi douche fixe", "price": 150.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB011", "name": "Pose paroi douche coulissante", "price": 200.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB012", "name": "Pose porte douche pivotante", "price": 180.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB013", "name": "Pose caniveau douche italienne", "price": 150.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB014", "name": "Pose WC au sol", "price": 200.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB015", "name": "Pose WC suspendu + b√¢ti", "price": 375.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB016", "name": "Pose abattant WC", "price": 30.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB017", "name": "Pose lave-mains", "price": 120.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB018", "name": "Pose bidet", "price": 180.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB019", "name": "Pose lavabo sur colonne", "price": 150.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB020", "name": "Pose lavabo suspendu", "price": 180.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB021", "name": "Pose vasque √† poser", "price": 120.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB022", "name": "Pose vasque √† encastrer", "price": 150.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB023", "name": "Pose plan vasque", "price": 200.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB024", "name": "Pose meuble vasque simple", "price": 180.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB025", "name": "Pose meuble vasque double", "price": 300.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB026", "name": "Pose mitigeur lavabo", "price": 80.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB027", "name": "Pose mitigeur douche", "price": 100.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB028", "name": "Pose mitigeur thermostatique douche", "price": 120.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB029", "name": "Pose mitigeur baignoire", "price": 110.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB030", "name": "Pose colonne douche", "price": 150.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB031", "name": "Pose colonne douche hydromassante", "price": 200.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB032", "name": "Pose robinet simple", "price": 60.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB033", "name": "Pose douchette WC", "price": 80.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB034", "name": "Pose miroir simple", "price": 50.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB035", "name": "Pose miroir LED", "price": 80.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB036", "name": "Pose armoire toilette", "price": 100.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB037", "name": "Pose s√®che-serviettes eau", "price": 200.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB038", "name": "Pose s√®che-serviettes √©lectrique", "price": 150.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB039", "name": "Pose VMC salle de bain", "price": 250.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB040", "name": "Pose extracteur d'air", "price": 120.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB041", "name": "R√©novation petite SDB compl√®te (<4m¬≤)", "price": 6000.0, "unit": "forfait", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB042", "name": "R√©novation SDB moyenne (5-7m¬≤)", "price": 9000.0, "unit": "forfait", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB043", "name": "R√©novation grande SDB (>8m¬≤)", "price": 12000.0, "unit": "forfait", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB044", "name": "R√©novation WC s√©par√© complet", "price": 2500.0, "unit": "forfait", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB045", "name": "Pose baignoire √Ælot", "price": 650.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB046", "name": "Pose pare-baignoire pivotant", "price": 180.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB047", "name": "Pose receveur sur mesure", "price": 400.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB048", "name": "Cr√©ation douche italienne haut de gamme", "price": 1800.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB049", "name": "√âtanch√©it√© compl√®te douche italienne", "price": 300.0, "unit": "forfait", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB050", "name": "Pose WC suspendu Geberit", "price": 450.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB051", "name": "Pose WC japonais", "price": 200.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB052", "name": "Pose plan vasque sur mesure", "price": 350.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB053", "name": "Pose s√®che-serviettes mixte", "price": 250.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB054", "name": "Pose spot salle de bain IP44", "price": 80.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}, {"id": "SB055", "name": "Pose r√©glette LED miroir", "price": 90.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "salle-bain"}], "cuisine": [{"id": "CU001", "name": "Pose cuisine √©quip√©e compl√®te", "price": 550.0, "unit": "jour", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU002", "name": "Pose meuble bas", "price": 50.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU003", "name": "Pose meuble haut", "price": 60.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU004", "name": "Pose colonne", "price": 80.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU005", "name": "Pose √Ælot central", "price": 200.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU006", "name": "Pose fileur/joue", "price": 30.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU007", "name": "Pose plan de travail droit", "price": 200.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU008", "name": "Pose plan de travail angle", "price": 300.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU009", "name": "D√©coupe plan de travail", "price": 50.0, "unit": "d√©coupe", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU010", "name": "Pose cr√©dence", "price": 50.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU011", "name": "Pose cr√©dence verre", "price": 70.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU012", "name": "Pose √©vier 1 bac", "price": 150.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU013", "name": "Pose √©vier 2 bacs", "price": 200.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU014", "name": "Pose √©vier sous plan", "price": 250.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU015", "name": "Pose robinet cuisine", "price": 80.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU016", "name": "Pose mitigeur avec douchette", "price": 100.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU017", "name": "Pose plaque cuisson", "price": 80.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "cuisine"}, {"id": "CU018", "name": "Pose four encastrable", "price": 80.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "cuisine"}, {"id": "CU019", "name": "Pose micro-ondes encastrable", "price": 60.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "cuisine"}, {"id": "CU020", "name": "Pose lave-vaisselle", "price": 80.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "cuisine"}, {"id": "CU021", "name": "Pose r√©frig√©rateur encastrable", "price": 100.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "cuisine"}, {"id": "CU022", "name": "Pose hotte aspirante", "price": 150.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "cuisine"}, {"id": "CU023", "name": "Pose hotte plafond", "price": 250.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "cuisine"}, {"id": "CU024", "name": "Pose cuisine lin√©aire standard", "price": 400.0, "unit": "ml", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU025", "name": "Pose cuisine en L ou U", "price": 550.0, "unit": "jour", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU026", "name": "Pose cuisine avec √Ælot central", "price": 750.0, "unit": "jour", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU027", "name": "Pose cuisine am√©ricaine ouverte", "price": 650.0, "unit": "jour", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU028", "name": "Pose meuble bas √©vier", "price": 80.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU029", "name": "Pose meuble d'angle", "price": 100.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU030", "name": "Pose colonne four/frigo", "price": 120.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU031", "name": "Pose bar am√©ricain", "price": 150.0, "unit": "ml", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU032", "name": "Plan de travail quartz", "price": 350.0, "unit": "ml", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU033", "name": "Plan de travail granit", "price": 400.0, "unit": "ml", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU034", "name": "Plan de travail bois massif", "price": 250.0, "unit": "ml", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU035", "name": "Plan de travail inox", "price": 300.0, "unit": "ml", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU036", "name": "Cr√©dence inox", "price": 80.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU037", "name": "Cr√©dence composite", "price": 65.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU038", "name": "Pose √©vier granit/r√©sine", "price": 300.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU039", "name": "Robinet 3 voies (eau filtr√©e)", "price": 150.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU040", "name": "Pose plaque induction", "price": 100.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "cuisine"}, {"id": "CU041", "name": "Pose four vapeur", "price": 120.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "cuisine"}, {"id": "CU042", "name": "Pose lave-linge encastrable", "price": 100.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "cuisine"}, {"id": "CU043", "name": "Pose cave √† vin encastrable", "price": 120.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "cuisine"}, {"id": "CU044", "name": "Pose hotte d√©corative", "price": 200.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "cuisine"}, {"id": "CU045", "name": "Pose hotte int√©gr√©e meuble", "price": 180.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "cuisine"}, {"id": "CU046", "name": "Raccordement gaz cuisine", "price": 150.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU047", "name": "√âvacuation hotte ext√©rieure", "price": 120.0, "unit": "forfait", "tva": "10%", "active": true, "category": "cuisine"}, {"id": "CU048", "name": "√âclairage LED sous meuble", "price": 80.0, "unit": "ml", "tva": "10%", "active": true, "category": "cuisine"}], "menuiserie": [{"id": "MN001", "name": "Pose porte int√©rieure standard", "price": 150.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN002", "name": "Pose porte coulissante", "price": 225.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN003", "name": "Pose porte coulissante galandage", "price": 350.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN004", "name": "Pose porte blind√©e", "price": 450.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN005", "name": "Pose porte d'entr√©e PVC/alu", "price": 450.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN006", "name": "Pose porte de garage sectionnelle", "price": 600.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN007", "name": "Pose porte de garage basculante", "price": 500.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN008", "name": "Motorisation porte garage", "price": 300.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "menuiserie"}, {"id": "MN009", "name": "Pose fen√™tre 1 vantail", "price": 225.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN010", "name": "Pose fen√™tre 2 vantaux", "price": 275.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN011", "name": "Pose porte-fen√™tre", "price": 400.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN012", "name": "Pose baie vitr√©e coulissante", "price": 550.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN013", "name": "Pose fen√™tre de toit", "price": 550.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN014", "name": "Pose puits de lumi√®re", "price": 700.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN015", "name": "Pose verri√®re int√©rieure", "price": 400.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN016", "name": "Pose volet battant", "price": 150.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN017", "name": "Pose volet roulant manuel", "price": 300.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN018", "name": "Pose volet roulant √©lectrique", "price": 400.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "menuiserie"}, {"id": "MN019", "name": "Pose store int√©rieur", "price": 115.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "menuiserie"}, {"id": "MN020", "name": "Pose store banne", "price": 750.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "menuiserie"}, {"id": "MN021", "name": "Pose pergola", "price": 150.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "menuiserie"}, {"id": "MN022", "name": "Pose porte postform√©e", "price": 180.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN023", "name": "Pose porte bois massif", "price": 250.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN024", "name": "Pose porte avec vitrage", "price": 200.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN025", "name": "Pose porte coulissante suspendue", "price": 300.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN026", "name": "Pose porte pliante/accord√©on", "price": 200.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN027", "name": "Pose porte coupe-feu", "price": 350.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN028", "name": "Pose porte d'entr√©e bois", "price": 400.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN029", "name": "Pose porte d'entr√©e acier", "price": 380.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN030", "name": "Pose porte garage enroulable", "price": 700.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN031", "name": "Pose porte garage battante", "price": 550.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN032", "name": "Pose fen√™tre alu 1 vantail", "price": 300.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN033", "name": "Pose fen√™tre alu 2 vantaux", "price": 350.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN034", "name": "Pose fen√™tre bois", "price": 280.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN035", "name": "Pose fen√™tre mixte bois/alu", "price": 320.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN036", "name": "Pose porte-fen√™tre alu", "price": 450.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN037", "name": "Pose baie vitr√©e galandage", "price": 800.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN038", "name": "Pose fen√™tre de toit motoris√©e", "price": 750.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN039", "name": "Pose verri√®re ext√©rieure", "price": 500.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN040", "name": "Pose volet battant PVC", "price": 120.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN041", "name": "Pose volet battant alu", "price": 200.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "menuiserie"}, {"id": "MN042", "name": "Pose volet roulant solaire", "price": 500.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "menuiserie"}, {"id": "MN043", "name": "Pose store v√©nitien", "price": 130.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "menuiserie"}, {"id": "MN044", "name": "Pose store banne manuel", "price": 500.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "menuiserie"}, {"id": "MN045", "name": "Pose store banne motoris√©", "price": 750.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "menuiserie"}, {"id": "MN046", "name": "Pose pergola bois", "price": 150.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "menuiserie"}, {"id": "MN047", "name": "Pose pergola bioclimatique", "price": 350.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "menuiserie"}], "chauffage": [{"id": "CH001", "name": "Pose radiateur √©lectrique", "price": 200.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH002", "name": "Pose radiateur eau chaude", "price": 250.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH003", "name": "Pose s√®che-serviettes", "price": 200.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH004", "name": "Pose plancher chauffant √©lectrique", "price": 75.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH005", "name": "Pose plancher chauffant eau", "price": 85.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH006", "name": "Pose po√™le √† bois", "price": 1000.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH007", "name": "Pose po√™le √† granul√©s", "price": 1200.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH008", "name": "Pose insert chemin√©e", "price": 800.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH009", "name": "Pose chaudi√®re gaz murale", "price": 2250.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH010", "name": "Pose chaudi√®re gaz sol", "price": 2750.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH011", "name": "Pose chaudi√®re fioul", "price": 3000.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH012", "name": "D√©sembouage circuit chauffage", "price": 400.0, "unit": "intervention", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH013", "name": "Pose climatiseur monosplit", "price": 650.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "chauffage"}, {"id": "CH014", "name": "Pose climatiseur bisplit", "price": 1200.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "chauffage"}, {"id": "CH015", "name": "Pose climatiseur multisplit", "price": 1500.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "chauffage"}, {"id": "CH016", "name": "Pose pompe √† chaleur air/air", "price": 2250.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH017", "name": "Pose pompe √† chaleur air/eau", "price": 3500.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH018", "name": "Mise en service climatisation", "price": 225.0, "unit": "intervention", "tva": "20%", "active": true, "category": "chauffage"}, {"id": "CH019", "name": "Entretien annuel climatisation", "price": 150.0, "unit": "intervention", "tva": "20%", "active": true, "category": "chauffage"}, {"id": "CH020", "name": "Pose chauffe-eau √©lectrique 100L", "price": 400.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH021", "name": "Pose chauffe-eau √©lectrique 200L", "price": 450.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH022", "name": "Pose chauffe-eau √©lectrique 300L", "price": 500.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH023", "name": "Pose chauffe-eau thermodynamique", "price": 1000.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH024", "name": "Pose chauffe-eau gaz", "price": 600.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH025", "name": "Pose chauffe-eau solaire", "price": 2000.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH026", "name": "Pose adoucisseur d'eau", "price": 500.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH027", "name": "Pose osmoseur", "price": 300.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH028", "name": "Vidange chauffe-eau", "price": 150.0, "unit": "intervention", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH029", "name": "Pose radiateur √©lectrique convecteur", "price": 150.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH030", "name": "Pose radiateur √©lectrique rayonnant", "price": 180.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH031", "name": "Pose radiateur √† inertie", "price": 250.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH032", "name": "Pose radiateur eau chaude fonte", "price": 250.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH033", "name": "Pose radiateur eau chaude acier", "price": 200.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH034", "name": "Pose radiateur design/d√©coratif", "price": 300.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH035", "name": "Pose s√®che-serviettes mixte", "price": 250.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH036", "name": "Pose plancher rafra√Æchissant", "price": 95.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH037", "name": "Pose plafond chauffant rayonnant", "price": 80.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH038", "name": "Pose po√™le √† bois √©tanche", "price": 1000.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH039", "name": "Pose po√™le √† granul√©s √©tanche", "price": 1400.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH040", "name": "Pose po√™le mixte bois/granul√©s", "price": 1500.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH041", "name": "Pose cuisini√®re √† bois", "price": 1200.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH042", "name": "Pose foyer ferm√©", "price": 1000.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH043", "name": "Pose chaudi√®re √† condensation", "price": 2500.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH044", "name": "Pose chaudi√®re √©lectrique", "price": 1800.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH045", "name": "Entretien chaudi√®re gaz", "price": 120.0, "unit": "intervention", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH046", "name": "Entretien chaudi√®re fioul", "price": 150.0, "unit": "intervention", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH047", "name": "Entretien po√™le √† bois", "price": 80.0, "unit": "intervention", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH048", "name": "Entretien po√™le granul√©s", "price": 100.0, "unit": "intervention", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH049", "name": "Ramonage conduit", "price": 70.0, "unit": "intervention", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH050", "name": "Tubage conduit chemin√©e", "price": 150.0, "unit": "ml", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH051", "name": "Conduit ext√©rieur isol√©", "price": 200.0, "unit": "ml", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH052", "name": "Contr√¥le √©tanch√©it√© gaz", "price": 85.0, "unit": "intervention", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH053", "name": "Purge radiateurs", "price": 60.0, "unit": "intervention", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH054", "name": "R√©glage chaudi√®re", "price": 90.0, "unit": "intervention", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH055", "name": "Thermostat d'ambiance", "price": 150.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH056", "name": "Robinet thermostatique", "price": 80.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "chauffage"}, {"id": "CH057", "name": "Climatiseur gainable", "price": 2000.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "chauffage"}, {"id": "CH058", "name": "Nettoyage filtres climatisation", "price": 80.0, "unit": "intervention", "tva": "20%", "active": true, "category": "chauffage"}, {"id": "CH059", "name": "Recharge gaz climatisation", "price": 200.0, "unit": "intervention", "tva": "20%", "active": true, "category": "chauffage"}, {"id": "CH060", "name": "Contr√¥le pression climatisation", "price": 60.0, "unit": "intervention", "tva": "20%", "active": true, "category": "chauffage"}, {"id": "CH061", "name": "D√©sinfection circuit climatisation", "price": 120.0, "unit": "intervention", "tva": "20%", "active": true, "category": "chauffage"}], "electricite": [{"id": "EL001", "name": "Pose prise √©lectrique", "price": 65.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL002", "name": "Pose prise USB", "price": 80.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL003", "name": "Pose interrupteur simple", "price": 65.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL004", "name": "Pose interrupteur variateur", "price": 85.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL005", "name": "Pose va-et-vient", "price": 95.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL006", "name": "Pose t√©l√©rupteur", "price": 120.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL007", "name": "Pose d√©tecteur mouvement", "price": 100.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL008", "name": "Pose prise t√©l√©phone/RJ45", "price": 70.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL009", "name": "Pose spot encastr√©", "price": 60.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL010", "name": "Pose luminaire plafonnier", "price": 60.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL011", "name": "Pose luminaire suspendu", "price": 80.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL012", "name": "Pose applique murale", "price": 70.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL013", "name": "Pose ruban LED + transfo", "price": 40.0, "unit": "ml", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL014", "name": "Pose tableau √©lectrique 1 rang√©e", "price": 800.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL015", "name": "Pose tableau √©lectrique 3 rang√©es", "price": 1150.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL016", "name": "Pose disjoncteur diff√©rentiel", "price": 150.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL017", "name": "Pose parafoudre", "price": 200.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL018", "name": "Pose compteur divisionnaire", "price": 250.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL019", "name": "Pose borne recharge VE", "price": 1150.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL020", "name": "Pose antenne TV", "price": 300.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "electricite"}, {"id": "EL021", "name": "Pose parabole", "price": 350.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "electricite"}, {"id": "EL022", "name": "Pose alarme maison", "price": 1000.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "electricite"}, {"id": "EL023", "name": "Pose visiophone", "price": 400.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "electricite"}, {"id": "EL024", "name": "Pose portier vid√©o", "price": 300.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "electricite"}, {"id": "EL025", "name": "Pose prise √©lectrique 20A cuisine", "price": 75.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL026", "name": "Pose prise √©tanche IP44/IP55", "price": 85.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL027", "name": "Pose prise TV coaxiale", "price": 70.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL028", "name": "Pose interrupteur double", "price": 75.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL029", "name": "Pose interrupteur tactile", "price": 120.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL030", "name": "Pose interrupteur connect√©", "price": 150.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL031", "name": "Pose minuterie d'√©clairage", "price": 100.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL032", "name": "Pose d√©tecteur cr√©pusculaire", "price": 90.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL033", "name": "Pose spot encastr√© orientable", "price": 60.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL034", "name": "Pose spot LED dimmable", "price": 70.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL035", "name": "Pose lustre", "price": 100.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL036", "name": "Pose applique LED design", "price": 90.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL037", "name": "Pose n√©on LED", "price": 80.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL038", "name": "Pose hublot ext√©rieur", "price": 90.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL039", "name": "Pose projecteur LED ext√©rieur", "price": 120.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL040", "name": "Tableau √©lectrique 2 rang√©es", "price": 600.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL041", "name": "Tableau √©lectrique 4 rang√©es", "price": 1000.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL042", "name": "Pose interrupteur diff√©rentiel", "price": 80.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL043", "name": "Pose contacteur jour/nuit", "price": 120.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL044", "name": "Pose d√©lesteur", "price": 180.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL045", "name": "Borne recharge VE 7,4kW", "price": 1200.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL046", "name": "Borne recharge VE 11kW triphas√©e", "price": 1500.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "electricite"}, {"id": "EL047", "name": "Amplificateur TV", "price": 150.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "electricite"}, {"id": "EL048", "name": "Alarme filaire compl√®te", "price": 800.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "electricite"}, {"id": "EL049", "name": "Alarme sans fil compl√®te", "price": 1000.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "electricite"}, {"id": "EL050", "name": "Cam√©ra surveillance", "price": 200.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "electricite"}], "plomberie": [{"id": "PL001", "name": "Remplacement robinet simple", "price": 150.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL002", "name": "Remplacement mitigeur", "price": 180.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL003", "name": "Remplacement groupe s√©curit√©", "price": 150.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL004", "name": "Remplacement siphon", "price": 80.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL005", "name": "Remplacement flexible", "price": 60.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL006", "name": "Remplacement vase expansion", "price": 200.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL007", "name": "Pose vanne d'arr√™t", "price": 100.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL008", "name": "Pose r√©ducteur pression", "price": 150.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL009", "name": "Pose clapet anti-retour", "price": 120.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL010", "name": "Pose disconnecteur", "price": 180.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL011", "name": "Cr√©ation point d'eau", "price": 250.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL012", "name": "D√©placement point d'eau", "price": 300.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL013", "name": "Pose nourrice plomberie", "price": 200.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL014", "name": "Pose compteur d'eau", "price": 150.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL015", "name": "D√©bouchage simple", "price": 225.0, "unit": "intervention", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL016", "name": "D√©bouchage haute pression", "price": 350.0, "unit": "intervention", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL017", "name": "D√©tection fuite", "price": 300.0, "unit": "intervention", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL018", "name": "R√©paration fuite", "price": 250.0, "unit": "intervention", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL019", "name": "Remplacement flotteur WC", "price": 90.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL020", "name": "Remplacement m√©canisme chasse", "price": 120.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL021", "name": "Remplacement joint chasse eau", "price": 40.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL022", "name": "Pose d√©tendeur gaz", "price": 80.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL023", "name": "Pose collecteur chauffage", "price": 180.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL024", "name": "Installation filtre eau", "price": 200.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL025", "name": "D√©bouchage WC", "price": 180.0, "unit": "intervention", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL026", "name": "D√©bouchage douche/baignoire", "price": 200.0, "unit": "intervention", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL027", "name": "D√©tection fuite cam√©ra", "price": 450.0, "unit": "intervention", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL028", "name": "Recherche fuite enterr√©e", "price": 400.0, "unit": "intervention", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL029", "name": "Colmatage fuite urgence", "price": 180.0, "unit": "intervention", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL030", "name": "D√©tartrage circuit eau chaude", "price": 200.0, "unit": "intervention", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL031", "name": "Rin√ßage circuit chauffage", "price": 180.0, "unit": "intervention", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL032", "name": "Contr√¥le pression circuit", "price": 80.0, "unit": "intervention", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL033", "name": "Test √©tanch√©it√© r√©seau", "price": 120.0, "unit": "intervention", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL034", "name": "Nettoyage bac √† graisse", "price": 150.0, "unit": "intervention", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL035", "name": "Curage √©vacuation", "price": 200.0, "unit": "intervention", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL036", "name": "Inspection cam√©ra canalisation", "price": 250.0, "unit": "intervention", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL037", "name": "Hydrocurage canalisation", "price": 300.0, "unit": "intervention", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL038", "name": "Traitement anti-calcaire", "price": 160.0, "unit": "intervention", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL039", "name": "D√©tartrage chauffe-eau", "price": 180.0, "unit": "intervention", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL040", "name": "Contr√¥le groupe s√©curit√©", "price": 70.0, "unit": "intervention", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL041", "name": "Contr√¥le anode magn√©sium", "price": 90.0, "unit": "intervention", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL042", "name": "Entretien adoucisseur eau", "price": 120.0, "unit": "intervention", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL043", "name": "R√©g√©n√©ration adoucisseur", "price": 80.0, "unit": "intervention", "tva": "10%", "active": true, "category": "plomberie"}, {"id": "PL044", "name": "Changement cartouche osmoseur", "price": 60.0, "unit": "intervention", "tva": "10%", "active": true, "category": "plomberie"}], "peinture": [{"id": "PE001", "name": "Peinture murs", "price": 32.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE002", "name": "Peinture plafond", "price": 38.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE003", "name": "Peinture boiseries", "price": 45.0, "unit": "ml", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE004", "name": "Peinture radiateur", "price": 80.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE005", "name": "Pose papier peint", "price": 28.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE006", "name": "D√©pose papier peint", "price": 12.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE007", "name": "Enduit lissage", "price": 18.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE008", "name": "Enduit d√©coratif", "price": 35.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE009", "name": "Pose toile de verre", "price": 22.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE010", "name": "Pose plaquettes parement", "price": 55.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE011", "name": "Pose lambris", "price": 35.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE012", "name": "Pose frise", "price": 15.0, "unit": "ml", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE013", "name": "Pose b√©ton cir√©", "price": 115.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE014", "name": "Pose moulure plafond", "price": 20.0, "unit": "ml", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE015", "name": "Pose rosace", "price": 50.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE016", "name": "Peinture fa√ßade", "price": 28.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE017", "name": "Ravalement fa√ßade", "price": 65.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE018", "name": "Nettoyage fa√ßade", "price": 18.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE019", "name": "Isolation ext√©rieure ITE", "price": 120.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE020", "name": "Cr√©pis fa√ßade", "price": 45.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE021", "name": "Peinture murs lessivable", "price": 38.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE022", "name": "Peinture murs anti-t√¢che", "price": 45.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE023", "name": "Peinture plafond mat", "price": 35.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE024", "name": "Peinture plafond anti-condensation", "price": 48.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE025", "name": "Peinture portes int√©rieures", "price": 80.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE026", "name": "Peinture volets bois", "price": 120.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE027", "name": "Pose papier peint intiss√©", "price": 35.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE028", "name": "Pose papier peint vinyle", "price": 40.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE029", "name": "D√©collage papier peint ancien", "price": 15.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE030", "name": "Enduit √† la chaux", "price": 45.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE031", "name": "Enduit tadelakt", "price": 85.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE032", "name": "Pose fibre de verre", "price": 25.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE033", "name": "Pose lambris PVC", "price": 35.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE034", "name": "Pose corniche polyur√©thane", "price": 18.0, "unit": "ml", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE035", "name": "Patine meuble", "price": 150.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE036", "name": "Lasure protection bois", "price": 40.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE037", "name": "Vitrificateur parquet", "price": 25.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE038", "name": "Pr√©paration support", "price": 15.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE039", "name": "Lessivage murs", "price": 8.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "peinture"}, {"id": "PE040", "name": "Rebouchage fissures", "price": 12.0, "unit": "ml", "tva": "10%", "active": true, "category": "peinture"}], "isolation": [{"id": "IS001", "name": "Isolation combles perdus", "price": 30.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS002", "name": "Isolation combles am√©nageables", "price": 45.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS003", "name": "Isolation murs int√©rieurs", "price": 60.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS004", "name": "Isolation murs ext√©rieurs", "price": 120.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS005", "name": "Isolation sol", "price": 35.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS006", "name": "Isolation phonique", "price": 50.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS007", "name": "Pose cloison placo BA13", "price": 40.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS008", "name": "Pose cloison hydrofuge", "price": 45.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS009", "name": "Pose cloison phonique", "price": 55.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS010", "name": "Pose faux plafond", "price": 55.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS011", "name": "Cr√©ation ouverture cloison", "price": 200.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS012", "name": "Pose porte cloison", "price": 150.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS013", "name": "Pose trappe acc√®s", "price": 120.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS014", "name": "Doublage mur", "price": 45.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS015", "name": "Pose rail placo", "price": 12.0, "unit": "ml", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS016", "name": "Jointement placo", "price": 8.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS017", "name": "Pose angle sortant", "price": 15.0, "unit": "ml", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS018", "name": "Rebouchage trous", "price": 25.0, "unit": "intervention", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS019", "name": "Pose laine de verre", "price": 25.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS020", "name": "Pose laine de roche", "price": 28.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS021", "name": "Pose ouate cellulose", "price": 32.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS022", "name": "Pose polystyr√®ne", "price": 22.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS023", "name": "Pare-vapeur", "price": 8.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS024", "name": "√âtanch√©it√© air", "price": 15.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS025", "name": "Test √©tanch√©it√© blower door", "price": 450.0, "unit": "intervention", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS026", "name": "Isolation combles perdus ouate", "price": 35.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS027", "name": "Isolation murs int√©rieurs polystyr√®ne", "price": 45.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS028", "name": "Isolation sol polyur√©thane", "price": 35.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS029", "name": "Cloison BA13 phonique", "price": 55.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS030", "name": "Cloison coupe-feu", "price": 65.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS031", "name": "Cloison d√©montable bureau", "price": 75.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS032", "name": "Faux plafond suspendu", "price": 65.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS033", "name": "Faux plafond dalles", "price": 45.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS034", "name": "Rebouchage ouverture", "price": 150.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS035", "name": "Doublage mur laine min√©rale", "price": 40.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "isolation"}, {"id": "IS036", "name": "Pose membrane √©tanche", "price": 25.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "isolation"}], "exterieur": [{"id": "EX001", "name": "Pose terrasse bois", "price": 90.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX002", "name": "Pose terrasse composite", "price": 115.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX003", "name": "Pose carrelage ext√©rieur", "price": 72.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX004", "name": "Pose dalle sur plot", "price": 65.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX005", "name": "Pose pav√©", "price": 75.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX006", "name": "Pose b√©ton d√©sactiv√©", "price": 85.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX007", "name": "Pose enrob√©", "price": 45.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX008", "name": "Pose gravier stabilis√©", "price": 35.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX009", "name": "Pose gazon synth√©tique", "price": 45.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX010", "name": "Pose bordure", "price": 25.0, "unit": "ml", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX011", "name": "Pose cl√¥ture rigide", "price": 100.0, "unit": "ml", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX012", "name": "Pose cl√¥ture souple", "price": 40.0, "unit": "ml", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX013", "name": "Pose grillage", "price": 45.0, "unit": "ml", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX014", "name": "Pose brise-vue", "price": 30.0, "unit": "ml", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX015", "name": "Pose claustra", "price": 80.0, "unit": "ml", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX016", "name": "Pose portail battant", "price": 600.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX017", "name": "Pose portail coulissant", "price": 800.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX018", "name": "Motorisation portail", "price": 600.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX019", "name": "Pose portillon", "price": 300.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX020", "name": "Pose pilier", "price": 200.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX021", "name": "Installation arrosage automatique", "price": 45.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX022", "name": "Pose r√©cup√©rateur eau", "price": 200.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX023", "name": "Montage abri jardin <10m¬≤", "price": 550.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX024", "name": "Montage abri jardin >10m¬≤", "price": 850.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX025", "name": "Montage serre", "price": 400.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX026", "name": "Installation robot tondeuse", "price": 400.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX027", "name": "Pose √©clairage jardin", "price": 80.0, "unit": "point", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX028", "name": "Cr√©ation massif", "price": 45.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX029", "name": "Pose liner piscine", "price": 65.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX030", "name": "Pose pompe piscine", "price": 600.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX031", "name": "Pose pompe chaleur piscine", "price": 800.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX032", "name": "Pose robot piscine", "price": 150.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX033", "name": "Pose couverture piscine", "price": 150.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX034", "name": "Pose volet roulant piscine", "price": 250.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX035", "name": "Pose alarme piscine", "price": 300.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX036", "name": "Hivernage piscine", "price": 400.0, "unit": "intervention", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX037", "name": "Remise en route piscine", "price": 350.0, "unit": "intervention", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX038", "name": "Tonte pelouse", "price": 4.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX039", "name": "Taille haies", "price": 15.0, "unit": "ml", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX040", "name": "√âlagage arbre", "price": 200.0, "unit": "arbre", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX041", "name": "Terrasse bois exotique", "price": 120.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX042", "name": "Terrasse bois autoclav√©", "price": 90.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX043", "name": "Terrasse composite haut de gamme", "price": 145.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX044", "name": "Structure terrasse lambourdes", "price": 35.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX045", "name": "Carrelage ext√©rieur 2cm", "price": 85.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX046", "name": "Dalle pierre naturelle", "price": 95.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX047", "name": "Dalle b√©ton", "price": 45.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX048", "name": "Pav√© pierre", "price": 95.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX049", "name": "Pav√© autobloquant", "price": 55.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX050", "name": "B√©ton imprim√©", "price": 95.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX051", "name": "Gravier d√©coratif", "price": 25.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX052", "name": "Pr√©paration terrain", "price": 15.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX053", "name": "Bordure pierre", "price": 35.0, "unit": "ml", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX054", "name": "Bordure m√©tal", "price": 30.0, "unit": "ml", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX055", "name": "Cl√¥ture rigide haute s√©curit√©", "price": 120.0, "unit": "ml", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX056", "name": "Grillage simple torsion", "price": 35.0, "unit": "ml", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX057", "name": "Grillage soud√©", "price": 45.0, "unit": "ml", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX058", "name": "Brise-vue naturel", "price": 35.0, "unit": "ml", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX059", "name": "Claustra composite", "price": 95.0, "unit": "ml", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX060", "name": "Portail battant fer forg√©", "price": 550.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX061", "name": "Portail coulissant fer", "price": 750.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX062", "name": "Motorisation portail battant", "price": 600.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX063", "name": "Motorisation portail coulissant", "price": 800.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX064", "name": "Portillon fer forg√©", "price": 300.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX065", "name": "Pilier pierre", "price": 250.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX066", "name": "R√©cup√©rateur eau 1000L", "price": 300.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX067", "name": "Abri jardin 5-10m¬≤", "price": 550.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX068", "name": "Carport simple", "price": 600.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX069", "name": "Carport double", "price": 1000.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX070", "name": "√âclairage jardin borne", "price": 120.0, "unit": "point", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX071", "name": "Plantation haie", "price": 25.0, "unit": "ml", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX072", "name": "Abattage arbre", "price": 500.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX073", "name": "Pose margelle piscine", "price": 85.0, "unit": "ml", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX074", "name": "Pose filtre piscine", "price": 400.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX075", "name": "Couverture piscine barres", "price": 150.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX076", "name": "B√¢che piscine", "price": 80.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "exterieur"}, {"id": "EX077", "name": "Nettoyage piscine", "price": 80.0, "unit": "intervention", "tva": "20%", "active": true, "category": "exterieur"}], "ventilation": [{"id": "VE001", "name": "Pose VMC simple flux", "price": 600.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "ventilation"}, {"id": "VE002", "name": "Pose VMC double flux", "price": 1500.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "ventilation"}, {"id": "VE003", "name": "Pose VMC hygror√©glable", "price": 800.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "ventilation"}, {"id": "VE004", "name": "Pose extracteur", "price": 150.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "ventilation"}, {"id": "VE005", "name": "Pose bouche VMC", "price": 50.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "ventilation"}, {"id": "VE006", "name": "Pose gaine VMC", "price": 30.0, "unit": "ml", "tva": "10%", "active": true, "category": "ventilation"}, {"id": "VE007", "name": "Nettoyage VMC", "price": 150.0, "unit": "intervention", "tva": "10%", "active": true, "category": "ventilation"}, {"id": "VE008", "name": "Pose a√©rateur", "price": 80.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "ventilation"}, {"id": "VE009", "name": "Pose grille ventilation", "price": 40.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "ventilation"}, {"id": "VE010", "name": "Entretien VMC", "price": 120.0, "unit": "intervention", "tva": "10%", "active": true, "category": "ventilation"}, {"id": "VE011", "name": "Changement filtre VMC", "price": 60.0, "unit": "intervention", "tva": "10%", "active": true, "category": "ventilation"}, {"id": "VE012", "name": "R√©glage d√©bit VMC", "price": 80.0, "unit": "intervention", "tva": "10%", "active": true, "category": "ventilation"}, {"id": "VE013", "name": "Pose ventilation naturelle", "price": 200.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "ventilation"}, {"id": "VE014", "name": "Pose puits canadien", "price": 3500.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "ventilation"}, {"id": "VE015", "name": "Diagnostic ventilation", "price": 200.0, "unit": "intervention", "tva": "10%", "active": true, "category": "ventilation"}, {"id": "VE016", "name": "Pose VMC hygro A", "price": 700.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "ventilation"}, {"id": "VE017", "name": "Pose VMC hygro B", "price": 800.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "ventilation"}, {"id": "VE018", "name": "Pose VMC thermodynamique", "price": 2000.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "ventilation"}, {"id": "VE019", "name": "Pose extracteur WC", "price": 120.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "ventilation"}, {"id": "VE020", "name": "Pose extracteur cuisine", "price": 180.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "ventilation"}, {"id": "VE021", "name": "Pose bouche VMC insufflation", "price": 55.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "ventilation"}, {"id": "VE022", "name": "Pose bouche hygror√©glable", "price": 65.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "ventilation"}, {"id": "VE023", "name": "Pose gaine VMC isol√©e", "price": 35.0, "unit": "ml", "tva": "10%", "active": true, "category": "ventilation"}, {"id": "VE024", "name": "Pose silencieux VMC", "price": 120.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "ventilation"}, {"id": "VE025", "name": "Nettoyage bouches VMC", "price": 80.0, "unit": "intervention", "tva": "10%", "active": true, "category": "ventilation"}, {"id": "VE026", "name": "Nettoyage gaines VMC", "price": 120.0, "unit": "intervention", "tva": "10%", "active": true, "category": "ventilation"}, {"id": "VE027", "name": "Contr√¥le moteur VMC", "price": 85.0, "unit": "intervention", "tva": "10%", "active": true, "category": "ventilation"}], "toiture": [{"id": "TO001", "name": "Pose tuiles", "price": 45.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "toiture"}, {"id": "TO002", "name": "Pose ardoises", "price": 65.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "toiture"}, {"id": "TO003", "name": "Pose bac acier", "price": 35.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "toiture"}, {"id": "TO004", "name": "Pose shingle", "price": 28.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "toiture"}, {"id": "TO005", "name": "R√©fection toiture", "price": 85.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "toiture"}, {"id": "TO006", "name": "D√©moussage toiture", "price": 15.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "toiture"}, {"id": "TO007", "name": "Nettoyage toiture", "price": 12.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "toiture"}, {"id": "TO008", "name": "Traitement hydrofuge", "price": 18.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "toiture"}, {"id": "TO009", "name": "Pose goutti√®re", "price": 45.0, "unit": "ml", "tva": "10%", "active": true, "category": "toiture"}, {"id": "TO010", "name": "Nettoyage goutti√®re", "price": 8.0, "unit": "ml", "tva": "10%", "active": true, "category": "toiture"}, {"id": "TO011", "name": "Pose ch√©neau", "price": 65.0, "unit": "ml", "tva": "10%", "active": true, "category": "toiture"}, {"id": "TO012", "name": "Pose descente EP", "price": 35.0, "unit": "ml", "tva": "10%", "active": true, "category": "toiture"}, {"id": "TO013", "name": "R√©paration fuite toiture", "price": 250.0, "unit": "intervention", "tva": "10%", "active": true, "category": "toiture"}, {"id": "TO014", "name": "Changement tuile cass√©e", "price": 15.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "toiture"}, {"id": "TO015", "name": "Pose fa√Ætage", "price": 35.0, "unit": "ml", "tva": "10%", "active": true, "category": "toiture"}, {"id": "TO016", "name": "Pose rive", "price": 28.0, "unit": "ml", "tva": "10%", "active": true, "category": "toiture"}, {"id": "TO017", "name": "Pose solin", "price": 25.0, "unit": "ml", "tva": "10%", "active": true, "category": "toiture"}, {"id": "TO018", "name": "√âtanch√©it√© toit terrasse", "price": 75.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "toiture"}, {"id": "TO019", "name": "Pose membrane EPDM", "price": 55.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "toiture"}, {"id": "TO020", "name": "Pose √©cran sous toiture", "price": 12.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "toiture"}, {"id": "TO021", "name": "Pose volige", "price": 25.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "toiture"}, {"id": "TO022", "name": "Pose liteaux", "price": 8.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "toiture"}, {"id": "TO023", "name": "Pose contre-liteaux", "price": 6.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "toiture"}, {"id": "TO024", "name": "Pose chati√®re", "price": 45.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "toiture"}, {"id": "TO025", "name": "Pose sortie de toit", "price": 150.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "toiture"}], "depannage": [{"id": "DP001", "name": "D√©placement", "price": 60.0, "unit": "intervention", "tva": "20%", "active": true, "category": "depannage"}, {"id": "DP002", "name": "Main d'≈ìuvre plomberie", "price": 75.0, "unit": "heure", "tva": "20%", "active": true, "category": "depannage"}, {"id": "DP003", "name": "Main d'≈ìuvre √©lectricit√©", "price": 75.0, "unit": "heure", "tva": "20%", "active": true, "category": "depannage"}, {"id": "DP004", "name": "Main d'≈ìuvre chauffage", "price": 85.0, "unit": "heure", "tva": "20%", "active": true, "category": "depannage"}, {"id": "DP005", "name": "Main d'≈ìuvre climatisation", "price": 85.0, "unit": "heure", "tva": "20%", "active": true, "category": "depannage"}, {"id": "DP006", "name": "Main d'≈ìuvre serrurerie", "price": 100.0, "unit": "heure", "tva": "20%", "active": true, "category": "depannage"}, {"id": "DP007", "name": "Main d'≈ìuvre vitrerie", "price": 85.0, "unit": "heure", "tva": "20%", "active": true, "category": "depannage"}, {"id": "DP008", "name": "Main d'≈ìuvre √©lectrom√©nager", "price": 70.0, "unit": "heure", "tva": "20%", "active": true, "category": "depannage"}, {"id": "DP009", "name": "Main d'≈ìuvre jardin", "price": 60.0, "unit": "heure", "tva": "20%", "active": true, "category": "depannage"}, {"id": "DP010", "name": "Urgence soir/weekend", "price": 1.5, "unit": "coefficient", "tva": "20%", "active": true, "category": "depannage"}, {"id": "DP011", "name": "Urgence jours f√©ri√©s", "price": 2.0, "unit": "coefficient", "tva": "20%", "active": true, "category": "depannage"}, {"id": "DP012", "name": "D√©pannage chaudi√®re", "price": 180.0, "unit": "intervention", "tva": "20%", "active": true, "category": "depannage"}, {"id": "DP013", "name": "D√©pannage ballon eau chaude", "price": 150.0, "unit": "intervention", "tva": "20%", "active": true, "category": "depannage"}, {"id": "DP014", "name": "D√©pannage radiateur", "price": 120.0, "unit": "intervention", "tva": "20%", "active": true, "category": "depannage"}, {"id": "DP015", "name": "D√©pannage fuite urgente", "price": 200.0, "unit": "intervention", "tva": "20%", "active": true, "category": "depannage"}, {"id": "DP016", "name": "D√©pannage √©lectrique urgent", "price": 180.0, "unit": "intervention", "tva": "20%", "active": true, "category": "depannage"}, {"id": "DP017", "name": "Ouverture porte claqu√©e", "price": 150.0, "unit": "intervention", "tva": "20%", "active": true, "category": "depannage"}, {"id": "DP018", "name": "Changement serrure urgence", "price": 200.0, "unit": "intervention", "tva": "20%", "active": true, "category": "depannage"}, {"id": "DP019", "name": "Vitrage cass√© urgence", "price": 180.0, "unit": "intervention", "tva": "20%", "active": true, "category": "depannage"}, {"id": "DP020", "name": "Diagnostic panne", "price": 80.0, "unit": "intervention", "tva": "20%", "active": true, "category": "depannage"}, {"id": "DP021", "name": "D√©placement soir/weekend", "price": 90.0, "unit": "intervention", "tva": "20%", "active": true, "category": "depannage"}, {"id": "DP022", "name": "D√©placement nuit/f√©ri√©", "price": 120.0, "unit": "intervention", "tva": "20%", "active": true, "category": "depannage"}, {"id": "DP023", "name": "Devis r√©paration gratuit", "price": 0.0, "unit": "gratuit", "tva": "20%", "active": true, "category": "depannage"}, {"id": "DP024", "name": "Majoration urgence 24h", "price": 150.0, "unit": "majoration", "tva": "20%", "active": true, "category": "depannage"}, {"id": "DP025", "name": "Majoration dimanche", "price": 100.0, "unit": "majoration", "tva": "20%", "active": true, "category": "depannage"}, {"id": "DP026", "name": "Majoration jour f√©ri√©", "price": 120.0, "unit": "majoration", "tva": "20%", "active": true, "category": "depannage"}], "energies": [{"id": "EN001", "name": "Pose panneaux solaires", "price": 450.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "energies"}, {"id": "EN002", "name": "Pose onduleur solaire", "price": 800.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "energies"}, {"id": "EN003", "name": "Raccordement r√©seau solaire", "price": 1200.0, "unit": "installation", "tva": "10%", "active": true, "category": "energies"}, {"id": "EN004", "name": "Pose batterie stockage", "price": 2500.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "energies"}, {"id": "EN005", "name": "Entretien installation solaire", "price": 200.0, "unit": "intervention", "tva": "10%", "active": true, "category": "energies"}, {"id": "EN006", "name": "Pose √©olienne domestique", "price": 8000.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "energies"}, {"id": "EN007", "name": "G√©othermie surface", "price": 150.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "energies"}, {"id": "EN008", "name": "G√©othermie profonde", "price": 12000.0, "unit": "installation", "tva": "10%", "active": true, "category": "energies"}, {"id": "EN009", "name": "Audit √©nerg√©tique", "price": 800.0, "unit": "intervention", "tva": "20%", "active": true, "category": "energies"}, {"id": "EN010", "name": "DPE diagnostic", "price": 350.0, "unit": "intervention", "tva": "20%", "active": true, "category": "energies"}, {"id": "EN011", "name": "√âtude thermique RT2012", "price": 1500.0, "unit": "√©tude", "tva": "20%", "active": true, "category": "energies"}, {"id": "EN012", "name": "√âtude thermique RE2020", "price": 1800.0, "unit": "√©tude", "tva": "20%", "active": true, "category": "energies"}, {"id": "EN013", "name": "Pose r√©gulateur domotique", "price": 1200.0, "unit": "installation", "tva": "20%", "active": true, "category": "energies"}, {"id": "EN014", "name": "Optimisation consommation", "price": 500.0, "unit": "intervention", "tva": "20%", "active": true, "category": "energies"}, {"id": "EN015", "name": "Monitoring √©nerg√©tique", "price": 300.0, "unit": "installation", "tva": "20%", "active": true, "category": "energies"}], "renovation-globale": [{"id": "RG001", "name": "R√©novation studio <25m¬≤", "price": 15000.0, "unit": "forfait", "tva": "10%", "active": true, "category": "renovation-globale"}, {"id": "RG002", "name": "R√©novation T2 <50m¬≤", "price": 25000.0, "unit": "forfait", "tva": "10%", "active": true, "category": "renovation-globale"}, {"id": "RG003", "name": "R√©novation T3 <75m¬≤", "price": 35000.0, "unit": "forfait", "tva": "10%", "active": true, "category": "renovation-globale"}, {"id": "RG004", "name": "R√©novation T4 <100m¬≤", "price": 45000.0, "unit": "forfait", "tva": "10%", "active": true, "category": "renovation-globale"}, {"id": "RG005", "name": "R√©novation T5+ >100m¬≤", "price": 55000.0, "unit": "forfait", "tva": "10%", "active": true, "category": "renovation-globale"}, {"id": "RG006", "name": "R√©novation √©nerg√©tique BBC", "price": 450.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "renovation-globale"}, {"id": "RG007", "name": "Mise aux normes √©lectriques", "price": 120.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "renovation-globale"}, {"id": "RG008", "name": "Mise aux normes plomberie", "price": 85.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "renovation-globale"}, {"id": "RG009", "name": "Am√©nagement combles", "price": 650.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "renovation-globale"}, {"id": "RG010", "name": "Extension maison", "price": 1800.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "renovation-globale"}, {"id": "RG011", "name": "Sur√©l√©vation", "price": 2200.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "renovation-globale"}, {"id": "RG012", "name": "Cr√©ation mezzanine", "price": 850.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "renovation-globale"}, {"id": "RG013", "name": "Abattement cloison", "price": 300.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "renovation-globale"}, {"id": "RG014", "name": "Ouverture mur porteur", "price": 1500.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "renovation-globale"}, {"id": "RG015", "name": "Renforcement structure", "price": 200.0, "unit": "ml", "tva": "10%", "active": true, "category": "renovation-globale"}, {"id": "RG016", "name": "Chape liquide", "price": 35.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "renovation-globale"}, {"id": "RG017", "name": "Chape traditionnelle", "price": 28.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "renovation-globale"}, {"id": "RG018", "name": "Plancher collaborant", "price": 85.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "renovation-globale"}, {"id": "RG019", "name": "Plancher bois", "price": 65.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "renovation-globale"}, {"id": "RG020", "name": "Escalier b√©ton", "price": 2500.0, "unit": "unit√©", "tva": "10%", "active": true, "category": "renovation-globale"}], "serrurerie-securite": [{"id": "SE001", "name": "Ouverture porte claqu√©e", "price": 150.0, "unit": "intervention", "tva": "20%", "active": true, "category": "serrurerie-securite"}, {"id": "SE002", "name": "Ouverture porte blind√©e", "price": 250.0, "unit": "intervention", "tva": "20%", "active": true, "category": "serrurerie-securite"}, {"id": "SE003", "name": "Changement serrure standard", "price": 180.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "serrurerie-securite"}, {"id": "SE004", "name": "Changement serrure haute s√©curit√©", "price": 350.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "serrurerie-securite"}, {"id": "SE005", "name": "Changement cylindre", "price": 80.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "serrurerie-securite"}, {"id": "SE006", "name": "Installation serrure connect√©e", "price": 200.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "serrurerie-securite"}, {"id": "SE007", "name": "Pose verrou suppl√©mentaire", "price": 120.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "serrurerie-securite"}, {"id": "SE008", "name": "Blindage porte existante", "price": 800.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "serrurerie-securite"}, {"id": "SE009", "name": "Pose judas optique", "price": 60.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "serrurerie-securite"}, {"id": "SE010", "name": "Pose cha√Æne s√©curit√©", "price": 40.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "serrurerie-securite"}, {"id": "SE011", "name": "Installation coffre-fort", "price": 300.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "serrurerie-securite"}, {"id": "SE012", "name": "Pose grille fen√™tre", "price": 200.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "serrurerie-securite"}, {"id": "SE013", "name": "Motorisation rideau m√©tallique", "price": 600.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "serrurerie-securite"}, {"id": "SE014", "name": "D√©pannage serrure urgence", "price": 200.0, "unit": "intervention", "tva": "20%", "active": true, "category": "serrurerie-securite"}, {"id": "SE015", "name": "Reproduction cl√©s sp√©ciales", "price": 25.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "serrurerie-securite"}], "vitrerie": [{"id": "VI001", "name": "Remplacement vitre simple", "price": 80.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "vitrerie"}, {"id": "VI002", "name": "Remplacement double vitrage", "price": 150.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "vitrerie"}, {"id": "VI003", "name": "Remplacement triple vitrage", "price": 250.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "vitrerie"}, {"id": "VI004", "name": "Pose verre feuillet√© s√©curit", "price": 120.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "vitrerie"}, {"id": "VI005", "name": "Pose miroir sur mesure", "price": 100.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "vitrerie"}, {"id": "VI006", "name": "Pose cr√©dence verre cuisine", "price": 180.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "vitrerie"}, {"id": "VI007", "name": "R√©paration vitrage urgence", "price": 180.0, "unit": "intervention", "tva": "20%", "active": true, "category": "vitrerie"}, {"id": "VI008", "name": "Pose film s√©curit√© anti-effraction", "price": 45.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "vitrerie"}, {"id": "VI009", "name": "Pose vitrage acoustique", "price": 200.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "vitrerie"}, {"id": "VI010", "name": "D√©coupe verre sur mesure", "price": 60.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "vitrerie"}], "nettoyage-entretien": [{"id": "NE001", "name": "Nettoyage fin chantier", "price": 8.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "nettoyage-entretien"}, {"id": "NE002", "name": "Nettoyage vitres ext√©rieures", "price": 5.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "nettoyage-entretien"}, {"id": "NE003", "name": "Nettoyage toiture", "price": 12.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "nettoyage-entretien"}, {"id": "NE004", "name": "D√©moussage fa√ßade", "price": 15.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "nettoyage-entretien"}, {"id": "NE005", "name": "Nettoyage haute pression", "price": 3.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "nettoyage-entretien"}, {"id": "NE006", "name": "Entretien espaces verts", "price": 35.0, "unit": "heure", "tva": "20%", "active": true, "category": "nettoyage-entretien"}, {"id": "NE007", "name": "Taille haies", "price": 15.0, "unit": "ml", "tva": "20%", "active": true, "category": "nettoyage-entretien"}, {"id": "NE008", "name": "Tonte pelouse", "price": 0.08, "unit": "m¬≤", "tva": "20%", "active": true, "category": "nettoyage-entretien"}, {"id": "NE009", "name": "√âvacuation gravats", "price": 150.0, "unit": "m¬≥", "tva": "20%", "active": true, "category": "nettoyage-entretien"}, {"id": "NE010", "name": "Location benne", "price": 200.0, "unit": "semaine", "tva": "20%", "active": true, "category": "nettoyage-entretien"}], "domotique": [{"id": "DO001", "name": "Installation box domotique", "price": 300.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "domotique"}, {"id": "DO002", "name": "Module √©clairage connect√©", "price": 80.0, "unit": "point", "tva": "20%", "active": true, "category": "domotique"}, {"id": "DO003", "name": "Module volets connect√©", "price": 120.0, "unit": "point", "tva": "20%", "active": true, "category": "domotique"}, {"id": "DO004", "name": "Thermostat connect√©", "price": 200.0, "unit": "zone", "tva": "20%", "active": true, "category": "domotique"}, {"id": "DO005", "name": "Cam√©ra surveillance connect√©e", "price": 150.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "domotique"}, {"id": "DO006", "name": "D√©tecteur fum√©e connect√©", "price": 80.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "domotique"}, {"id": "DO007", "name": "D√©tecteur mouvement connect√©", "price": 100.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "domotique"}, {"id": "DO008", "name": "Prise connect√©e", "price": 60.0, "unit": "unit√©", "tva": "20%", "active": true, "category": "domotique"}, {"id": "DO009", "name": "Configuration syst√®me domotique", "price": 200.0, "unit": "intervention", "tva": "20%", "active": true, "category": "domotique"}, {"id": "DO010", "name": "Formation utilisation domotique", "price": 150.0, "unit": "intervention", "tva": "20%", "active": true, "category": "domotique"}], "carrelage-special": [{"id": "CA001", "name": "Carrelage grand format >60x60", "price": 65.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "carrelage-special"}, {"id": "CA002", "name": "Carrelage format XXL >120x120", "price": 85.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "carrelage-special"}, {"id": "CA003", "name": "Carrelage imitation parquet", "price": 70.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "carrelage-special"}, {"id": "CA004", "name": "Carrelage imitation b√©ton cir√©", "price": 75.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "carrelage-special"}, {"id": "CA005", "name": "Carrelage hexagonal", "price": 80.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "carrelage-special"}, {"id": "CA006", "name": "Carrelage mosa√Øque verre", "price": 90.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "carrelage-special"}, {"id": "CA007", "name": "Carrelage pierre naturelle", "price": 95.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "carrelage-special"}, {"id": "CA008", "name": "Carrelage antid√©rapant piscine", "price": 85.0, "unit": "m¬≤", "tva": "20%", "active": true, "category": "carrelage-special"}, {"id": "CA009", "name": "Rebouchage joints carrelage", "price": 25.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "carrelage-special"}, {"id": "CA010", "name": "R√©novation joints carrelage", "price": 18.0, "unit": "m¬≤", "tva": "10%", "active": true, "category": "carrelage-special"}]};
  // Merge with any existing services stored locally
  try {
    const existing = JSON.parse(localStorage.getItem('mjcreations_services')||'null');
    if (!existing || Object.keys(existing).length < 3) {
      localStorage.setItem('mjcreations_services', JSON.stringify(DATA));
    } else {
      // keep user's data, but ensure categories exist
      const merged = Object.assign({}, DATA, existing);
      localStorage.setItem('mjcreations_services', JSON.stringify(merged));
    }
  } catch(e) {
    localStorage.setItem('mjcreations_services', JSON.stringify(DATA));
  }

  // Expose as global for this page if needed
  window.servicesData = JSON.parse(localStorage.getItem('mjcreations_services'));

  // Try to (re)load the services table if the function exists
  if (typeof window.loadServices === 'function') {
    try { window.loadServices(); } catch (e) { /* ignore */ }
  }
})();
</script>

</body>
</html>